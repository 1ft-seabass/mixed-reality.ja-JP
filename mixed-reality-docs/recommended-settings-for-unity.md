---
title: Unity の推奨設定
description: Unity には、プロジェクトの設定を切り替えることができます複合現実に固有の動作の一部が用意されています。
author: Troy-Ferrell
ms.author: trferrel
ms.date: 03/26/2019
ms.topic: article
keywords: unity、設定、複合現実
ms.openlocfilehash: c8b5598fa702954ca14b9b013e44ed38cf6075c2
ms.sourcegitcommit: 2f600e5ad00cd447b180b0f89192b4b9d86bbc7e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "67148666"
---
# <a name="recommended-settings-for-unity"></a>Unity の推奨設定

Unity では、一般に、すべてのプラットフォームの平均的なケースは、既定のオプションのセットを提供します。 ただし、Unity は、プロジェクトの設定を切り替えることができます複合現実に固有の動作の一部を提供します。

## <a name="performant-environment-set-up"></a>パフォーマンスの高い環境をセットアップ

### <a name="low-quality-settings"></a>低品質の設定

変更することが重要、 **Unity の品質設定**お客様の環境に**Very Low**します。 これによって、アプリケーションが適切なフレーム レートですばやく実行されていることを確認します。 Hololens の開発を非常に重要になります。 VR エクスペリエンスの強化、デスクトップの仕様によって、イマーシブ ヘッドセットでの開発用に最低品質パラメーターを指定せずには、フレーム レートがまだ達成できます。 

Unity 2018 LTS 以降では、プロジェクトの品質レベルを設定できます。

[**編集** > **プロジェクト設定** > **品質**> 設定、**既定**] をクリックして、下向きの矢印を**Very Low**品質レベル

### <a name="lighting-settings"></a>照明の設定

品質のシーンの設定と同様に、Mixed Reality アプリに最適なライティング設定を設定する必要があります。 シーンに最もパフォーマンスに与える影響を与える、通常、照明の設定は、Unity で**リアルタイム グローバル照明**します。 これ移動して無効にできます**ウィンドウ** > **レンダリング** > **照明設定** > **リアルタイムグローバルの照明**します。 

別の照明設定がある**組み込まれたグローバルの照明**します。 この設定は、イマーシブ ヘッドセットの高性能、視覚的にも結果を指定できますが、通常は HoloLens の開発には適用できません。 **グローバル Illumniation を組み込まれた**は不明な変化する環境の性質により、HoloLens のシーンでは見つかりませんは通常、静的な Gameobject にのみ計算されます。

お読みください[Unity からのグローバルの照明](https://docs.unity3d.com/Manual/GIIntro.html)詳細についてはします。 

>[!NOTE]
> **リアルタイムのグローバル照明**設定されている**シーンあたり**のため開発者は、プロジェクトでのすべての Unity シーンには、このプロパティを保存する必要があります。 

### <a name="single-pass-instancing-rendering-path"></a>インスタンス化のレンダリング パスを 1 つのパス

複合現実のアプリケーションで、シーンがレンダリングされる 2 回、1 回、ユーザーに目ごとにします。 従来の 3D の開発と比較して、この実質的に 2 倍を計算する必要がある作業の量。 したがって、CPU および GPU 時間の両方を保存する Unity で最も効率的なレンダリング パスを選択する重要なは。 1 回インスタンス化されたレンダリングは、Mixed Reality アプリ用の Unity レンダリング パイプラインを最適化し、したがってをお勧めこの設定を有効にするすべてのプロジェクトに対して既定でします。 

Unity プロジェクトでこの機能を有効にするには
1)  開いている**Player XR 設定**(に移動**編集** > **プロジェクト設定** > **Player**  > **XR 設定**)
2) 選択**1 つ渡すインスタンス化**から、**ステレオのレンダリング方法**ドロップダウン メニュー (**仮想現実サポート**チェック ボックスを選択する必要があります)

この表示方法の詳細については、Unity から、次の記事を読み取ります。
- [AR および VR の高度なステレオ レンダリング パフォーマンスを最大化する方法](https://blogs.unity3d.com/2017/11/21/how-to-maximize-ar-and-vr-performance-with-advanced-stereo-rendering/)
- [1 つのパスがインスタンス化](https://docs.unity3d.com/Manual/SinglePassInstancing.html) 

>[!NOTE]
> 1 つ渡すレンダリングをインスタンス化で 1 つの一般的な問題は、開発者が既に既存のカスタム シェーダーに書かれていない場合に発生します。 インスタンス化します。 この機能を有効にした後は、開発者は 1 つ目のいくつかの Gameobject のみレンダリングをことがあります。 これは、関連付けられているカスタムのシェーダーの適切なプロパティがあるないためにインスタンス化します。
>
> 参照してください[1 つ渡すステレオのレンダリング HoloLens](https://docs.unity3d.com/Manual/SinglePassStereoRenderingHoloLens.html)から Unity のこの問題に対処する方法

### <a name="enable-depth-buffer-sharing"></a>深度バッファーの共有を有効にします。

有効にするユーザーの認識からホログラム安定性の向上を実現するために推奨は、**深度バッファー共有**Unity でのプロパティ。 これをオン、Unity は、Windows Mixed Reality プラットフォームを使用してアプリケーションによって生成された深度の情報を共有します。 プラットフォームはより具体的には、アプリケーションによって表示される任意の特定のフレームのシーンのホログラム安定性を最適化することになります。

Unity プロジェクトでこの機能を有効にするには
1) 開いている**Player XR 設定**(に移動**編集** > **プロジェクト設定** > **Player**  > **XR 設定**)
2) チェック ボックスをオン**深度バッファーの共有を有効にする** **仮想現実 Sdk** > **Windows Mixed Reality**拡張 (**仮想実際にはサポートされている**チェック ボックスを選択する必要があります)

選択することを推奨さらに、 **16 ビットの深度**下、**深度形式**Hololens の開発の特に、このパネルで設定します。 24 ビットと比較した 16 ビットを選択すると、帯域幅要件大幅に削減されての低いデータ移動と処理に必要になります。

Windows Mixed Reality プラットフォーム ホログラム安定性を最適化するためには、深度バッファーが正確では、画面に表示される、ホログラムの一致を使用します。 したがって、上の共有、深度バッファーが重要ですの深さをレンダリングもの色を表示する場合。 Unity では、不透明なまたは TransparentCutout 資料のほとんどは、既定では、透過的な深さにレンダリングされますされテキスト オブジェクトは通常表示されません深さシェーダー依存などです。 

Mixed Reality Toolkit 標準のシェーダーを使用して、透過的なオブジェクトの深さを表示するために: 場合
1) MRTK 標準シェーダーを使用しているが透明の素材を選択し、インスペクターのエディター ウィンドウを開く
2) 設定**レンダリング モード**に**カスタム**設定**モード**に**Transparent**最後に設定し、**深さ書き込み**に**上**

>[!NOTE]
> 開発者は必要があります近く/後方面のカメラの設定と共にこれらの値を変更するときに、Z ファイティングの注意してください。 2 つの gameobject に同一のピクセルと深度バッファー (つまり、の忠実性の制限のためにレンダリングするときに発生する Z ファイティング z の深さ)、Unity は、どのオブジェクトが、その他の前にわかりません。 開発者は、その 2 つのゲーム オブジェクトとの間、ちらつきに注意してください*戦う*z 深さの値が同じにします。 これは、カメラからの z 深さ時に計算するには、各オブジェクトの値の範囲が広いが存在するが、24 ビット深度形式に切り替えることで解決できます。
>
> ただしをお勧め、特に Hololens の開発、カメラの変更の近くのはるかに範囲を小さくする代わりにプレーンし、16 ビットの深さを維持したフォーマットです。 Z 深さがほぼとカメラに沿って値の範囲にマップされてない直線的に平面。 これを選択して変更できる、 *Main Camera*シーンで**インスペクター**、変更、**近い & までにクリップの平面**値 (つまり、その期間を短縮するには x 値を 100 m またはその他の 1000 m などです。)

### <a name="building-for-il2cpp"></a>Il2cpp バック エンドの構築

Unity で .NET バックエンドおよびしたがってをお勧めします開発者を利用するスクリプトのサポートは非推奨と**il2cpp バック エンド**UWP 用 visual studio でビルドします。 Unity から visual studio ソリューションのビルドが、これにより、さまざまな利点があります、 **il2cpp バック エンド**大幅に分化古い .NET メソッドよりも遅いことができます。 そのため、強くお勧め構築するためのベスト プラクティスに従う**il2cpp バック エンド**開発イテレーション時に保存します。

1) 再構築済みのファイルをあるを使用して、毎回同じディレクトリにプロジェクトのビルドによってインクリメンタル ビルドを活用
2) プロジェクトのマルウェア対策ソフトウェアのスキャンを無効にするし、フォルダーをビルド
   - 開いている**ウイルスと脅威保護**Windows 10 設定アプリの下
   - 選択**設定の管理** **ウイルスと脅威保護の設定**
   - 選択**追加または削除する除外**下、**除外**セクション
   - クリックして **、除外の追加**選択フォルダーは、Unity プロジェクトのコードが含まれてし、ビルドの出力
3) ビルドするための SSD を使用します。

お読みください[il2cpp バック エンドのビルド時間を最適化する](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html)の詳細。

> [!NOTE]
> さらに、可能性があるセットアップ都合のよい、[キャッシュ サーバー](https://docs.unity3d.com/Manual/CacheServer.html)、特に大きな資産 (スクリプト ファイルを除く) または絶えずを Unity プロジェクトの場合は、シーン/資産を変更します。 プロジェクトを開くときに Unity 開発者のコンピューターで、内部キャッシュ フォーマット正規の資産に格納します。 項目を再インポートし、ため変更されたときに、再処理する必要があります。 このプロセスは 1 回実行し、キャッシュ サーバーに保存され、したがってすべての開発者が新しい変更をローカルでの再インポート処理ではなく、時間を節約するには、他の開発者と共有します。

## <a name="publishing-properties"></a>発行プロパティ

### <a name="holographic-splash-screen"></a>Holographic のスプラッシュ スクリーン

HoloLens には、mobile クラス CPU と GPU、つまり、アプリの読み込みをもう少し長くかかる場合があります。 アプリの読み込み中にユーザーが黒で表示し、そのため、疑問に思う何が起こっています。 読み込み中には、それらを組み込みますするには、holographic スプラッシュ スクリーンを追加できます。

Holographic のスプラッシュ スクリーンを切り替えます。
1) 移動して**編集** > **プロジェクト設定** > **Player**ページ
2) をクリックして、 **Windows ストア**タブし、開く、**スプラッシュ イメージ**セクション
3) 必要なイメージの適用、 **Windows Holographic > Holographic スプラッシュ イメージ**プロパティ。
    - 切り替え、 **Unity スプラッシュ画面を表示**オプションが有効または Unity のブランドのスプラッシュ スクリーンを無効にします。 Unity Pro ライセンスがない、スプラッシュ スクリーンをブランド化された Unity 常に表示されます。
    - 場合、 **Holographic スプラッシュ イメージ**が適用される、常に表示する Unity スプラッシュ画面を表示 チェック ボックスを有効または無効にするかどうかに関係なく。 カスタム holographic ロゴ イメージを指定することは、Unity Pro ライセンスで開発者にできるだけです。

|  Unity のスプラッシュ画面を表示します。  |  Holographic スプラッシュ イメージ  |  動作 |
|----------|----------|----------|
|  オン  |  なし  |  または、アプリが読み込まれる、長い方まで 5 秒間は、既定の Unity スプラッシュ スクリーンを表示します。 | 
|  オン  |  カスタム  |  5 秒間、またはアプリが読み込まれる、長い方までは、カスタムのスプラッシュ スクリーンを表示します。 | 
|  オフ  |  なし  |  アプリが読み込まれるまでは、透明な黒 (nothing) を表示します。 | 
|  オフ  |  カスタム  |  5 秒間、またはアプリが読み込まれる、長い方までは、カスタムのスプラッシュ スクリーンを表示します。 | 

お読みください[Unity のスプラッシュ スクリーン ドキュメント](https://docs.unity3d.com/Manual/class-PlayerSettingsSplashScreen.html)の詳細。

### <a name="tracking-loss"></a>損失の追跡

Mixed reality ヘッドセットが周囲を構築するには、環境が表示される依存[座標系の世界ロック](coordinate-systems-in-unity.md)ホログラムの位置を使用できます。 ヘッドセットは世界で自体を見つけられませんが、ヘッドセットといいますが*追跡を紛失*します。 このような場合は、空間ステージ、空間アンカー空間のマッピングなど座標 world ロックされているシステムに依存する機能は機能しません。

Unity の既定の動作がレンダリング ホログラムを停止、一時停止するには追跡の損失が発生した場合、[ゲーム ループ](http://docs.unity3d.com/Manual/ExecutionOrder.html)、表示通知を快適に失われた追跡に従ってユーザーの視線入力します。 カスタム通知が追跡用の形式で提供することもできますが失われるイメージ。 全体の操作の追跡に依存するアプリの場合は、Unity の追跡が再取得されるまでに完全にこれを処理できるようにするための十分なは。 開発者は、損失の追跡中に表示されるカスタム イメージを指定できます。 

追跡の失われたイメージをカスタマイズするには。
1) 移動して**編集** > **プロジェクト設定** > **Player**ページ
2) をクリックして、 **Windows ストア**タブし、開く、**スプラッシュ イメージ**セクション
3) 必要なイメージの適用、 **Windows Holographic > 追跡損失イメージ**プロパティ。

#### <a name="opt-out-of-automatic-pause"></a>自動一時停止のオプトアウト

追跡は必要としない一部のアプリ (例:[方向専用のアプリ](coordinate-systems-in-unity.md)360 度のビデオの閲覧者など) または処理の追跡中に中断なくが失われます。 続行する必要があります。 このような場合は、アプリは追跡動作の既定の損失をオプトアウトできます。 これを選択する開発者は追跡が失われるシナリオでは正しくレンダリングされないオブジェクトを非表示/無効化する責任を負います。 ほとんどの場合、そのケースは、本文がロックされているコンテンツをレンダリングするのには、推奨されるコンテンツのみを中心に、メイン カメラ。

自動一時停止の動作からオプトアウトします。
1) 移動して**編集** > **プロジェクト設定** > **Player**ページ
2) をクリックして、 **Windows ストア**タブし、開く、**スプラッシュ イメージ**セクション
3) 変更、 **Windows Holographic > の追跡が失われる一時停止とイメージの表示**チェック ボックスをオンします。

#### <a name="tracking-loss-events"></a>追跡イベントの損失

追跡が失われると、カスタム動作を定義するには、グローバルな処理[追跡イベントの損失](tracking-loss-in-unity.md)します。

### <a name="capabilities"></a>機能

特定の機能を活用するためにアプリでは、自らのマニフェストで適切な機能を宣言にする必要があります。 すべての後続のプロジェクトのエクスポートに含まれるように、Unity でマニフェストの宣言を作成できます。 

複合現実アプリケーションの機能を有効にすることができます。
1) 移動して**編集** > **プロジェクト設定** > **Player**ページ
2) をクリックして、 **Windows ストア** タブを開きます、**公開設定**セクションを探して、**機能**一覧

Holographic のアプリ用の一般的に使用される Api を有効にするための適用可能な機能は次のとおりです。
<br>

|  機能  |  Api の機能を必要とします。 |
|----------|----------|
|  SpatialPerception  |  SurfaceObserver | 
|  WebCam  |  PhotoCapture と VideoCapture | 
|  PicturesLibrary/VideosLibrary  |  PhotoCapture または VideoCapture、それぞれ (格納するときにキャプチャしたコンテンツ) | 
|  マイク  |  VideoCapture (オーディオをキャプチャ) するときに、DictationRecognizer、GrammarRecognizer、および KeywordRecognizer | 
|  internetClient  |  DictationRecognizer (および Unity Profiler を使用する) | 

## <a name="see-also"></a>関連項目
* [Unity 開発の概要](unity-development-overview.md)
* [For Mixed Reality Understaing パフォーマンス](understanding-performance-for-mixed-reality.md)
* [Unity のパフォーマンスに関する推奨事項](performance-recommendations-for-unity.md)

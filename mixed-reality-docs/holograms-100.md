---
title: MR 基本 100-Unity の概要
description: 最初の基本的な mixed reality "hello world" アプリケーションを作成する方法について説明します。
author: keveleigh
ms.author: kurtie
ms.date: 03/21/2018
ms.topic: article
keywords: mixed reality、Windows Mixed Reality、HoloLens、イマーシブ、vr、mr、はじめに、ホログラム、academy、チュートリアル
ms.openlocfilehash: fd3bed955e80ec18b7be500adbdb0fcb7062d129
ms.sourcegitcommit: aa88f6b42aa8d83e43104b78964afb506a368fb4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/02/2019
ms.locfileid: "64993619"
---
>[!NOTE]
>Mixed Reality Academy チュートリアルは、HoloLens (第1世代) と Mixed Reality イマーシブヘッドセットを念頭に置いて設計されています。  そのため、これらのデバイスの開発に関するガイダンスをまだ探している開発者には、これらのチュートリアルを残しておくことが重要です。  これらのチュートリアルは **_いない_** 最新のツールセットや相互作用が使用されている HoloLens 2 で更新されます。  サポートされているデバイスでの作業を続行するために管理されます。 今後、HoloLens 2 向けの開発方法を示す新しい一連のチュートリアルが掲載されています。  この通知は、これらのチュートリアルが投稿されたときのリンクと共に更新されます。

<br>

# <a name="mr-basics-100-getting-started-with-unity"></a>MR 基本 100:Unity の概要

このチュートリアルでは、Unity でビルドされた基本的な mixed reality アプリを作成する手順について説明します。

## <a name="device-support"></a>デバイスのサポート

<table>
<tr>
<th>まで</th><th style="width:150px"> <a href="hololens-hardware-details.md">HoloLens</a></th><th style="width:150px"> <a href="immersive-headset-hardware-details.md">イマーシブ ヘッドセット</a></th>
</tr><tr>
<td>MR 基本 100:Unity の概要</td><td style="text-align: center;"> ✔️</td><td style="text-align: center;"> ✔️</td>
</tr>
</table>

## <a name="prerequisites"></a>必須コンポーネント

* 適切な[ツールがインストール](install-the-tools.md)された WINDOWS 10 PC。

## <a name="chapter-1---create-a-new-project"></a>章 1-新しいプロジェクトを作成する

>[!VIDEO https://www.youtube.com/embed/2L5IFO0hnYA]

Unity を使用してアプリをビルドするには、最初にプロジェクトを作成する必要があります。 このプロジェクトはいくつかのフォルダーに整理されています。最も重要なのは、アセットフォルダーです。 これは、Maya、Max 映画4D または Photoshop などのデジタルコンテンツ作成ツール、Visual Studio で作成するすべてのコード、または任意のコードエディターを使用して作成したすべてのアセットと、Unity によって作成された複数のコンテンツファイルを格納するフォルダーです。、アニメーション、およびその他の Unity アセットタイプがエディターに含まれています。

UWP アプリをビルドして展開するために、Unity はプロジェクトを Visual Studio ソリューションとしてエクスポートできます。このソリューションには、必要なすべての資産とコードファイルが含まれます。

1. Unity を開始する
2. **新規**の選択
3. プロジェクト名を入力します (例: "MixedRealityIntroduction")
4. プロジェクトを保存する場所を入力してください
5. **3d**の切り替えが選択されていることを確認する
6. [**プロジェクトの作成**] の選択

おめでとう、すべての設定が完了したら、今すぐに mixed reality カスタマイズを開始できます。

## <a name="chapter-2---setup-the-camera"></a>Chapter 2-カメラの設定

>[!VIDEO https://www.youtube.com/embed/eP1ZwB4wSNA]

Unity のメインカメラは、ヘッドの追跡とステレオスコピックのレンダリングを処理します。 メインカメラには、mixed reality と共に使用するためのいくつかの変更が加えられています。
1. ファイル > 新しいシーンの選択

まず、ユーザーの開始位置を (**X**: として) 想像すると、アプリのレイアウトが簡単になります。0、 **Y**:0、 **Z**:0)。 メインカメラはユーザーのヘッドの移動を追跡しているため、ユーザーの開始位置を設定することによって、メインカメラの開始位置を設定できます。
1. [**階層**] パネルの [**メインカメラ**] を選択します。
2. [**インスペクター** ] パネルで**変換**コンポーネントを見つけて、**位置**を (**X**:0、 **Y**:1、 **Z**:-10) から (**X**:0、 **Y**:0、 **Z**:0

次に、カメラの既定の背景はいくつかの点を考慮する必要があります。

**HoloLens アプリケーションの**場合、実際の世界は、スカイボックステクスチャではなく、カメラがレンダリングするすべての要素の背後に表示されます。
1. **メインカメラ**が [**階層**] パネルで選択された状態で、[**インスペクター** ] パネルの [**カメラ**] コンポーネントを見つけて、[**クリアフラグ**] ボックスを [**スカイ**ボックス] から [**純色**] に変更します。
2. **背景**色ピッカーを選択し、 **RGBA**値を (0, 0, 0, 0) に変更します。

**イマーシブヘッドセットを対象とする mixed reality アプリケーション**では、Unity が提供する既定のスカイボックステクスチャを使用できます。
1. **メインカメラ**を [**階層**] パネルで選択した状態で、[**インスペクター** ] パネルの [**カメラ**] コンポーネントを見つけて、[**フラグのクリア**] ドロップダウンを [**スカイ**ボックス] にします。

3番目の方法として、Unity の近くのクリッププレーンを考えて、ユーザーがオブジェクトまたはオブジェクトにアプローチしているときに、ユーザーに近いオブジェクトが表示されないようにします。

**Hololens アプリケーション**では、near クリッププレーンを[hololens 推奨](camera-in-unity.md#clip-planes)0.85 メーターに設定できます。
1. **メインカメラ**を [**階層**] パネルで選択した状態で、[**インスペクター** ] パネルの [**カメラ**] コンポーネントを見つけて、[**近距離クリップ平面**] フィールドを既定の**0.3**から HoloLens 推奨0.85 に変更します。.

**イマーシブヘッドセットを対象とする mixed reality アプリケーション**では、Unity が提供する既定の設定を使用できます。
1. **メインカメラ**を [**階層**] パネルで選択した状態で、[**インスペクター** ] パネルの [**カメラ**] コンポーネントを見つけて、[**近くのクリッププレーン**] フィールドを既定の**0.3**にします。

最後に、ここまでの進行状況を保存しておきます。 シーンの変更を保存するには、> [名前を付け**てシーンを保存**] を選択し、シーンに「 **Main**」という名前を付けて、[**保存**] を選択します。

## <a name="chapter-3---setup-the-project-settings"></a>Chapter 3-プロジェクト設定のセットアップ

>[!VIDEO https://www.youtube.com/embed/ItRoiXccC0g]

この章では、開発用に Windows Holographic SDK を対象とするのに役立つ Unity プロジェクト設定をいくつか設定します。 また、アプリケーションの品質設定をいくつか設定します。 最後に、ビルドターゲットが Windows ストアに設定されていることを確認します。

### <a name="unity-performance-and-quality-settings"></a>Unity のパフォーマンスと品質の設定

**HoloLens の Unity 品質設定**

![HoloLens の Unity 品質設定](images/qualitysettings.png) 

HoloLens で高フレームレートを維持することは非常に重要であるため、品質設定をチューニングしてパフォーマンスを最速にすることをお勧めします。 詳細については、「 [Unity のパフォーマンスに関する推奨事項](performance-recommendations-for-unity.md)」を参照してください。
1. [**プロジェクト設定の編集 > の > 品質**] を選択します。
2. **Windows ストア**のロゴの下にある**ドロップダウン**を選択し、[**非常に低い**] を選択します。 Windows ストアの列のボックスと**非常に少ない**行が緑色になっている場合は、設定が正しく適用されていることがわかります。

**Occluded を対象とする mixed reality アプリケーションで**は、品質設定を既定値のままにすることができます。

### <a name="target-windows-10-sdk"></a>ターゲット Windows 10 SDK

**ターゲット Windows Holographic SDK**

![ターゲット Windows Holographic SDK](images/xrsettings.png) 

エクスポートしようとしているアプリが2D ビューではなく[イマーシブビュー](app-views.md)を作成する必要があることを Unity に知らせる必要があります。 これを行うには、Windows 10 SDK を対象とする Unity で仮想現実のサポートを有効にします。
1. [ **Edit > Project Settings > Player**] にアクセスします。
2. [プレーヤー設定] の [**インスペクター] パネル**で、[ **Windows ストア**] アイコンを選択します。
3. [ **XR Settings** ] グループを展開します。
4. [**表示**] セクションで、[**サポートされている仮想現実**] チェックボックスをオンにして、新しい**仮想現実の sdk**リストを追加します。
5. [ **Windows Mixed Reality** ] が一覧に表示されていることを確認します。 表示されてい **+** ない場合は、一覧の下部にあるボタンを選択し、[ **Windows Mixed Reality**] を選択します。

>[!NOTE]
>**Windows ストア**アイコンが表示されない場合は、インストール前に windows ストア .Net Scripting バックエンドが選択されていることを確認してください。 インストールされていない場合は、正しい Windows インストールを使用して Unity を再インストールする必要があります。

**.NET の構成を確認する**

![.NET の構成を確認する](images/configoptions-375px.png)

1. **Edit > Project Settings > Player** (これは前の手順のままである場合があります) に進みます。
2. [プレーヤー設定] の [**インスペクター] パネル**で、[ **Windows ストア**] アイコンを選択します。
3. [**その他の設定**] 構成セクションで、[**スクリプトバックエンド**] が [ **.net** ] に設定されていることを確認します。

適用されたすべてのプロジェクト設定を取得するためのすばらしいジョブ。 次に、ホログラムを追加してみましょう。

## <a name="chapter-4---create-a-cube"></a>Chapter 4-キューブの作成

>[!VIDEO https://www.youtube.com/embed/qKcK1Yuj-HQ]

Unity プロジェクトでのキューブの作成は、Unity で他のオブジェクトを作成するのと同じです。 Unity の座標系は現実世界にマップされているため、ユーザーの前にキューブを配置するのは簡単です。 Unity の1つのメーターは実際の世界では約1メートルです。
1. **階層**パネルの左上隅にある [**作成**] ドロップダウンを選択し、[ **3d オブジェクト > キューブ**] を選択します。
2. [**階層**] パネルで、新しく作成した**キューブ**を選択します。
3. **インスペクター**で**変換**コンポーネントを検索し、**位置**を (**X**:0、 **Y**:0、 **Z**:2)。 *これにより、ユーザーの開始位置の前にキューブ2のメーターが配置されます。*
4. **変換**コンポーネントで、**ローテーション**をに変更します (**X**:45、 **Y**:45、 **Z**:45) と**スケール**の変更 (**X**:0.25、 **Y**:0.25、 **Z**:0.25)。 *これにより、キューブが0.25 メートルにスケールされます。*
5. シーンの変更を保存するには、**ファイル > シーンの保存** を選択します。

## <a name="chapter-5---verify-on-device-from-unity-editor"></a>章 5-Unity エディターからデバイスを確認する

>[!VIDEO https://www.youtube.com/embed/vmCfiIdRb6Q]

キューブを作成したので、デバイスのクイックチェックを実行します。 これは、Unity エディター内から直接行うことができます。

### <a name="initial-setup"></a>初期セットアップ
1. 開発用 PC の Unity で、[**ファイル > ビルドの設定**] ウィンドウを開きます。
2. **プラットフォーム**を**ユニバーサル Windows プラットフォーム**に変更し、[ **Switch platfrom.details.heap.alignedallocate** ] をクリックします。

### <a name="for-hololens-use-unity-remoting"></a>HoloLens で Unity リモート処理を使用する
1. HoloLens で、Windows ストアから入手できる[Holographic リモート処理プレーヤー](holographic-remoting-player.md)をインストールして実行します。 デバイスでアプリケーションを起動すると、待機状態になり、デバイスの IP アドレスが表示されます。 IP を書き留めます。
2. **ウィンドウ > XR > Holographic エミュレーション**を開きます。
3. [**エミュレーションモード**] を **[なし**] から [リモート] から [**デバイス**] に変更します。
4. [**リモートコンピューター**] に、前にメモした HOLOLENS の IP アドレスを入力します。
5. **[接続]** をクリックします。
6. 接続の**状態** **が緑色に**変わっていることを確認します。
7. これで、Unity エディターで [**再生**] をクリックできるようになりました。

これで、デバイスとエディターでキューブを表示できるようになります。 エディターでアプリを実行するのと同じように、一時停止、検査、およびデバッグを行うことができます。これは、アプリケーションをエディターで実行するのと同じです。ただし、これは基本的には、ホストコンピューターとデバイス間のネットワーク間で送受信されるビデオ、オーディオ、デバイスの入力を使用します。

### <a name="for-other-mixed-reality-supported-headsets"></a>その他の mixed reality がサポートするヘッドセットの場合

1. USB ケーブルと HDMI またはディスプレイポートケーブルを使用して、ヘッドセットを開発用 PC に接続します。
2. **Mixed Reality ポータル**を起動し、最初の実行エクスペリエンスを完了していることを確認します。
3. Unity から、再生ボタンを押すことができます。

これで、混合現実のヘッドセットとエディターでキューブのレンダリングを確認できるようになります。

## <a name="chapter-6---build-and-deploy-to-device-from-visual-studio"></a>第6章-Visual Studio からデバイスへのビルドと配置

>[!VIDEO https://www.youtube.com/embed/USSu8yHUdbk]

これで、プロジェクトを Visual Studio にコンパイルし、ターゲットデバイスにデプロイする準備ができました。

### <a name="export-to-the-visual-studio-solution"></a>Visual Studio ソリューションへのエクスポート
1.  [**ビルドの設定] ウィンドウ > ファイル**を開きます。
2.  シーンを追加するには、[開いている**シーンの追加**] をクリックします。
3.  **プラットフォーム** を **ユニバーサル Windows プラットフォーム**に変更し、**プラットフォームの切り替え** をクリックします。
4.  **Windows ストア**の設定では、 **SDK**は**Universal 10**です。
5.  ターゲットデバイスの場合は、occluded の**任意のデバイス**に表示するか、または**HoloLens**に切り替えます。
6.  **UWP ビルドの種類**は**D3D**である必要があります。
7.  **UWP SDK**は、**インストールされている最新**の状態のままにすることができます。
8.  [デバッグ] で**Unity C#プロジェクト**を確認します。
9.  **[Build]** をクリックします。
10. エクスプローラーで、[**新しいフォルダー** ] をクリックし、フォルダーに **「App」** という名前を指定します。
11. **アプリ**フォルダーを選択した状態で、[**フォルダーの選択**] ボタンをクリックします。
12. Unity のビルドが完了すると、Windows エクスプローラーウィンドウが表示されます。
13. エクスプローラーで**アプリ**フォルダーを開きます。
14. 生成された Visual Studio ソリューションを開きます (この例では MixedRealityIntroduction)。

### <a name="compile-the-visual-studio-solution"></a>Visual Studio ソリューションをコンパイルする

最後に、エクスポートされた Visual Studio ソリューションをコンパイルしてデプロイし、デバイスで試します。
1. Visual Studio の上部のツールバーを使用して、ターゲットを**デバッグ**から**リリース**に変更し、 **ARM**から**X86**に変更します。

この手順は、デバイスとエミュレーターの間の配置で異なります。 セットアップに一致する指示に従います。

### <a name="deploy-to-mixed-reality-device-over-wi-fi"></a>Wi-fi 経由で mixed reality デバイスに展開する
1. [**ローカルコンピューター** ] ボタンの横にある矢印をクリックし、[配置ターゲット] を [**リモートコンピューター**] に変更します。
2. Mixed reality デバイスの IP アドレスを入力し、HoloLens と**Windows**で他のデバイスの**認証モード**を Universal (暗号化されていないプロトコル) に変更します。
3. [**デバッグ > デバッグなしで開始**] をクリックします。

**HoloLens の**場合、初めてデバイスをデプロイする場合は、 [Visual Studio を使用して](using-visual-studio.md)ペアリングする必要があります。

### <a name="deploy-to-mixed-reality-device-over-usb"></a>USB 経由で mixed reality デバイスに展開する

デバイスが USB ケーブル経由で接続されていることを確認します。
1. **HoloLens の**場合は、[**ローカルコンピューター** ] ボタンの横にある矢印をクリックし、展開ターゲットを [**デバイス**] に変更します。
2. **PC に接続されている occluded デバイスを対象に**するには、設定をローカルコンピューターに保持します。 **Mixed Reality ポータル**が実行されていることを確認します。
3. [**デバッグ > デバッグなしで開始**] をクリックします。

### <a name="deploy-to-emulator"></a>Emulator に配置
1. **デバイス**ボタンの横にある矢印をクリックし、ドロップダウンから [ **HoloLens Emulator**] を選択します。
2. [**デバッグ > デバッグなしで開始**] をクリックします。

### <a name="try-out-your-app"></a>アプリを試してみる

アプリがデプロイされたので、キューブ全体を移動して、その前に世界中の状態が維持されることを確認します。

## <a name="see-also"></a>関連項目
* [Unity 開発の概要](unity-development-overview.md)
* [Unity と Visual Studio を使用するためのベスト プラクティス](best-practices-for-working-with-unity-and-visual-studio.md)
* [MR 基本101](holograms-101.md)
* [MR 基本101E](holograms-101e.md)

---
title: OpenXR
description: ポータブル OpenXR API 標準を使用してエンジンをビルドし、Windows Mixed Reality と HoloLens 2 ヘッドセットに展開します。
author: thetuvix
ms.author: alexturn
ms.date: 7/29/2019
ms.topic: article
keywords: OpenXR、Khronos、BasicXRApp、Mixed Reality OpenXR 開発者ポータル、DirectX、ネイティブ、ネイティブアプリ、カスタムエンジン、ミドルウェア
ms.openlocfilehash: aa91918e20b4276b7453bae1a05ad18df9d8ab0e
ms.sourcegitcommit: 4d43a8f40e3132605cee9ece9229e67d985db645
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/26/2019
ms.locfileid: "74491138"
---
# <a name="openxr"></a><span data-ttu-id="79006-104">OpenXR</span><span class="sxs-lookup"><span data-stu-id="79006-104">OpenXR</span></span>

<span data-ttu-id="79006-105">OpenXR は、 <a href="https://www.khronos.org/" target="_blank">Khronos</a>のオープンなロイヤリティフリー API 標準です。これにより、さまざまなベンダーの幅広いデバイスにエンジンがネイティブでアクセスできるようになり、[混合現実](mixed-reality.md)の範囲を超えています。</span><span class="sxs-lookup"><span data-stu-id="79006-105">OpenXR is an open royalty-free API standard from <a href="https://www.khronos.org/" target="_blank">Khronos</a> that provides engines native access to a wide range of devices from many vendors that span across the [mixed reality spectrum](mixed-reality.md).</span></span>

<span data-ttu-id="79006-106">デスクトップ上の HoloLens 2 または Windows Mixed Reality の OpenXR を使用して開発することができます。</span><span class="sxs-lookup"><span data-stu-id="79006-106">You can develop using OpenXR on a HoloLens 2 or Windows Mixed Reality immersive headset on the desktop.</span></span>  <span data-ttu-id="79006-107">ヘッドセットへのアクセス権がない場合は、代わりに HoloLens 2 エミュレーターまたは Windows Mixed Reality シミュレーターを使用できます。</span><span class="sxs-lookup"><span data-stu-id="79006-107">If you don't have access to a headset, you can use the HoloLens 2 Emulator or the Windows Mixed Reality Simulator instead.</span></span>

## <a name="why-openxr"></a><span data-ttu-id="79006-108">OpenXR の理由</span><span class="sxs-lookup"><span data-stu-id="79006-108">Why OpenXR?</span></span>

<span data-ttu-id="79006-109">OpenXR を使用すると、holographic デバイス (HoloLens 2 など) の両方を対象とするエンジンを構築できます。これにより、実際の世界にデジタルコンテンツを配置し、イマーシブデバイス (デスクトップ Pc 用の Windows Mixed Reality ヘッドセットなど) を物理的に隠すことができます。それをデジタル体験に置き換えることができます。</span><span class="sxs-lookup"><span data-stu-id="79006-109">With OpenXR, you can build engines that target both holographic devices (like HoloLens 2) that place digital content in the real world as if it were really there, as well as immersive devices (like Windows Mixed Reality headsets for desktop PCs) that hide the physical world and replace it with a digital experience.</span></span>  <span data-ttu-id="79006-110">OpenXR を使用すると、さまざまなハードウェアプラットフォームで移植可能なコードを一度記述できます。</span><span class="sxs-lookup"><span data-stu-id="79006-110">OpenXR lets you write code once that's then portable across a wide range of hardware platforms.</span></span>

<span data-ttu-id="79006-111">OpenXR API は、アプリケーションをヘッドセットのネイティブプラットフォームサポートに直接接続するローダーを使用します。</span><span class="sxs-lookup"><span data-stu-id="79006-111">The OpenXR API uses a loader that connects your application directly to your headset's native platform support.</span></span>  <span data-ttu-id="79006-112">これにより、エンドユーザーは、Windows Mixed Reality ヘッドセットとその他のヘッドセットのどちらを使用しているかにかかわらず、最大のパフォーマンスと最小待機時間を実現できます。</span><span class="sxs-lookup"><span data-stu-id="79006-112">This offers your end users maximum performance and minimum latency, whether they're using a Windows Mixed Reality headset or any other headset.</span></span>

## <a name="what-is-openxr"></a><span data-ttu-id="79006-113">OpenXR とは</span><span class="sxs-lookup"><span data-stu-id="79006-113">What is OpenXR?</span></span>

<span data-ttu-id="79006-114">Core OpenXR 1.0 API は、HoloLens 2、Windows Mixed Reality ヘッドセットなどのイマーシブデバイスの両方を対象とするエンジンを構築するために必要な基本機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="79006-114">The core OpenXR 1.0 API provides the base functionality you'll need to build an engine that can target both holographic devices like HoloLens 2 and immersive devices like Windows Mixed Reality headsets:</span></span>
* <span data-ttu-id="79006-115">システム + セッション</span><span class="sxs-lookup"><span data-stu-id="79006-115">Systems + sessions</span></span>
* <span data-ttu-id="79006-116">参照スペース (view、local、stage)</span><span class="sxs-lookup"><span data-stu-id="79006-116">Reference spaces (view, local, stage)</span></span>
* <span data-ttu-id="79006-117">構成の表示 (mono、ステレオ)</span><span class="sxs-lookup"><span data-stu-id="79006-117">View configurations (mono, stereo)</span></span>
* <span data-ttu-id="79006-118">スワップチェーン + フレームのタイミング</span><span class="sxs-lookup"><span data-stu-id="79006-118">Swapchains + frame timing</span></span>
* <span data-ttu-id="79006-119">コンポジションレイヤー</span><span class="sxs-lookup"><span data-stu-id="79006-119">Composition layers</span></span>
* <span data-ttu-id="79006-120">Input および haptics</span><span class="sxs-lookup"><span data-stu-id="79006-120">Input and haptics</span></span>
* <span data-ttu-id="79006-121">グラフィックス API + プラットフォーム統合</span><span class="sxs-lookup"><span data-stu-id="79006-121">Graphics API + platform integration</span></span>

<span data-ttu-id="79006-122">OpenXR API の詳細については、OpenXR 1.0<a href="https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html" target="_blank">仕様</a>、 <a href="https://www.khronos.org/registry/OpenXR/specs/1.0/man/html/openxr.html" target="_blank">API リファレンス</a>、および<a href="https://www.khronos.org/files/openxr-10-reference-guide.pdf" target="_blank">クイックリファレンスガイド</a>を参照してください。</span><span class="sxs-lookup"><span data-stu-id="79006-122">To learn about the OpenXR API, check out the OpenXR 1.0 <a href="https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html" target="_blank">specification</a>, <a href="https://www.khronos.org/registry/OpenXR/specs/1.0/man/html/openxr.html" target="_blank">API reference</a> and <a href="https://www.khronos.org/files/openxr-10-reference-guide.pdf" target="_blank">quick reference guide</a>.</span></span>  <span data-ttu-id="79006-123">詳細については、 <a href="https://www.khronos.org/openxr/" target="_blank">Khronos OpenXR のページ</a>を参照してください。</span><span class="sxs-lookup"><span data-stu-id="79006-123">For more information, see the <a href="https://www.khronos.org/openxr/" target="_blank">Khronos OpenXR page</a>.</span></span>

<span data-ttu-id="79006-124">HoloLens 2 の全機能セットを対象にするには、クロスベンダおよびベンダー固有の OpenXR 拡張機能を使用します。これにより、OpenXR 1.0 コア以外の追加機能が可能になります。これには、トレーラーによる追跡、視線追跡、空間マッピング、空間アンカーなどがあります。</span><span class="sxs-lookup"><span data-stu-id="79006-124">To target the full feature set of HoloLens 2, you'll also use cross-vendor and vendor-specific OpenXR extensions that enable additional features beyond the OpenXR 1.0 core, such as articulated hand tracking, eye tracking, spatial mapping and spatial anchors.</span></span>  <span data-ttu-id="79006-125">今年後半に登場する拡張機能の詳細については、後の「[ロードマップ」セクション](openxr.md#roadmap)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="79006-125">See the [Roadmap section](openxr.md#roadmap) section below for more information on the extensions coming later this year.</span></span>

<span data-ttu-id="79006-126">OpenXR は、それ自体が mixed reality エンジンではないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="79006-126">Note that OpenXR is not itself a mixed reality engine.</span></span>  <span data-ttu-id="79006-127">代わりに、OpenXR では、Unity や Unreal などのエンジンがポータブルコードを一度記述できるようになります。これにより、そのプラットフォームを構築したベンダーに関係なく、ユーザーの holographic またはイマーシブデバイスのネイティブプラットフォーム機能にアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="79006-127">Instead, OpenXR enables engines like Unity and Unreal to write portable code once that can then access the native platform features of the user's holographic or immersive device, regardless of which vendor built that platform.</span></span>

## <a name="getting-started-with-openxr-for-hololens-2"></a><span data-ttu-id="79006-128">OpenXR for HoloLens 2 の概要</span><span class="sxs-lookup"><span data-stu-id="79006-128">Getting started with OpenXR for HoloLens 2</span></span>

<span data-ttu-id="79006-129">HoloLens 2 用の OpenXR アプリケーションの開発を開始するには:</span><span class="sxs-lookup"><span data-stu-id="79006-129">To start developing OpenXR applications for HoloLens 2:</span></span>

1. <span data-ttu-id="79006-130">HoloLens 2 をセットアップするか、「 [hololens 2 エミュレーターをインストール](using-the-hololens-emulator.md)するには」の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="79006-130">Set up a HoloLens 2 or follow the instructions to [install the HoloLens 2 emulator](using-the-hololens-emulator.md).</span></span>
1. <span data-ttu-id="79006-131">デバイスまたはエミュレーター内からストアアプリを起動し、すべてのアプリが更新されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="79006-131">Launch the Store app from within the device or emulator and ensure all apps are updated.</span></span>  <span data-ttu-id="79006-132">これにより、HoloLens の OpenXR ランタイムが OpenXR 1.0 に更新されます。</span><span class="sxs-lookup"><span data-stu-id="79006-132">This will ensure that the OpenXR runtime on your HoloLens is updated to OpenXR 1.0.</span></span>  <span data-ttu-id="79006-133">エミュレーターを使用する場合は、エミュレーターでのストアアプリの使用に役立つ[エミュレーターの入力手順](using-the-hololens-emulator.md#basic-emulator-input)を参照することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="79006-133">If using the emulator, you'll want to consult the [emulator input instructions](using-the-hololens-emulator.md#basic-emulator-input) to help you use the Store app within the emulator.</span></span>

## <a name="getting-started-with-openxr-for-windows-mixed-reality-headsets"></a><span data-ttu-id="79006-134">OpenXR for Windows Mixed Reality ヘッドセットの概要</span><span class="sxs-lookup"><span data-stu-id="79006-134">Getting started with OpenXR for Windows Mixed Reality headsets</span></span>

<span data-ttu-id="79006-135">イマーシブ Windows Mixed Reality ヘッドセット用の OpenXR アプリケーションの開発を開始するには:</span><span class="sxs-lookup"><span data-stu-id="79006-135">To start developing OpenXR applications for immersive Windows Mixed Reality headsets:</span></span>

1. <span data-ttu-id="79006-136">Windows 10 2019 更新プログラム (1903) を実行していることを確認してください。これは、Windows Mixed Reality エンドユーザーが OpenXR アプリケーションを実行するための最小要件です。</span><span class="sxs-lookup"><span data-stu-id="79006-136">Be sure you are running the Windows 10 May 2019 Update (1903), which is the minimum requirement for Windows Mixed Reality end users to run OpenXR applications.</span></span>  <span data-ttu-id="79006-137">以前のバージョンの Windows 10 を使用している場合は、 <a href="https://www.microsoft.com//software-download/windows10" target="_blank">windows 10 Update Assistant</a>を使用して、2019年5月の更新プログラムにアップグレードできます。</span><span class="sxs-lookup"><span data-stu-id="79006-137">If you're on an earlier version of Windows 10, you can upgrade to the May 2019 Update using the <a href="https://www.microsoft.com//software-download/windows10" target="_blank">Windows 10 Update Assistant</a>.</span></span>  <span data-ttu-id="79006-138">PC を更新できない場合は、 [2018 年10月の更新プログラム (1809) を使用して OpenXR アプリを開発](openxr.md#developing-on-windows-10-october-2018-update)することもできますが、パフォーマンスが低下したり、その他の問題が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="79006-138">If you're not able to update your PC, it is also possible to [develop your OpenXR app using Windows 10 October 2018 Update (1809)](openxr.md#developing-on-windows-10-october-2018-update), although you may experience lower performance or other issues.</span></span>
2. <span data-ttu-id="79006-139">Windows Mixed reality ヘッドセットを設定するか、指示に従って[Windows Mixed reality シミュレーターを有効](using-the-windows-mixed-reality-simulator.md)にします。</span><span class="sxs-lookup"><span data-stu-id="79006-139">Set up a Windows Mixed Reality headset or follow the instructions to [enable the Windows Mixed Reality simulator](using-the-windows-mixed-reality-simulator.md).</span></span>  <span data-ttu-id="79006-140">Windows Mixed reality を設定した後、Mixed Reality ポータルによって、Windows Mixed Reality OpenXR ランタイムが自動的にインストールされます。</span><span class="sxs-lookup"><span data-stu-id="79006-140">After setting up Windows Mixed Reality, Mixed Reality Portal will automatically install the Windows Mixed Reality OpenXR Runtime.</span></span>  <span data-ttu-id="79006-141">その後、Microsoft Store によってランタイムが最新の状態に保たれます。</span><span class="sxs-lookup"><span data-stu-id="79006-141">The Microsoft Store will then keep the runtime up to date.</span></span>
3. <span data-ttu-id="79006-142">[スタート] メニューから Mixed Reality ポータルを起動し、[...] をクリックして、Windows Mixed Reality OpenXR ランタイムをアクティブにします。メニューをクリックし、[Set up OpenXR] を選択します。</span><span class="sxs-lookup"><span data-stu-id="79006-142">Make the Windows Mixed Reality OpenXR Runtime active by launching Mixed Reality Portal from the Start menu, clicking the ... menu in the lower-left and selecting "Set up OpenXR".</span></span><br>
<span data-ttu-id="79006-143">Mixed Reality ポータルで OpenXR を設定する ![](images/mixed-reality-portal-set-up-openxr.png)</span><span class="sxs-lookup"><span data-stu-id="79006-143">![Setting up OpenXR in the Mixed Reality Portal](images/mixed-reality-portal-set-up-openxr.png)</span></span>

<span data-ttu-id="79006-144">Windows Mixed Reality OpenXR Runtime を再びアクティブにする必要がある場合は、手順 3. を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="79006-144">If you ever need to make the Windows Mixed Reality OpenXR Runtime active again, repeat step 3.</span></span>

> [!NOTE]
> <span data-ttu-id="79006-145">Windows mixed Reality OpenXR ランタイムは、Windows Mixed Reality のすべてのエンドユーザーに対して、間もなく自動的にセットアップされます。</span><span class="sxs-lookup"><span data-stu-id="79006-145">The Windows Mixed Reality OpenXR Runtime will soon be set up automatically for all Windows Mixed Reality end users.</span></span>

## <a name="getting-the-mixed-reality-openxr-developer-portal"></a><span data-ttu-id="79006-146">Mixed Reality OpenXR 開発者ポータルを入手する</span><span class="sxs-lookup"><span data-stu-id="79006-146">Getting the Mixed Reality OpenXR Developer Portal</span></span>

<span data-ttu-id="79006-147">Windows Mixed Reality OpenXR ランタイムを試すには、 <a href="https://www.microsoft.com/store/productId/9n5cvvl23qbt" target="_blank">[Mixed Reality OpenXR Developer ポータルアプリ</a>をインストールします。</span><span class="sxs-lookup"><span data-stu-id="79006-147">To try out the Windows Mixed Reality OpenXR Runtime, you can install the <a href="https://www.microsoft.com/store/productId/9n5cvvl23qbt" target="_blank">[Mixed Reality OpenXR Developer Portal app</a>.</span></span>  <span data-ttu-id="79006-148">このアプリは、OpenXR のさまざまな機能を、アクティブなランタイムと現在のヘッドセットに関する重要な情報を提供するシステムステータスページと共に実行するデモシーンを提供します。</span><span class="sxs-lookup"><span data-stu-id="79006-148">This app provides a demo scene that exercises various features of OpenXR, along with a System Status page that provides key information about the active runtime and the current headset.</span></span>

![Mixed Reality OpenXR 開発者ポータルアプリ](images/mixed-reality-openxr-developer-portal.png)

## <a name="building-a-sample-openxr-app"></a><span data-ttu-id="79006-150">サンプル OpenXR アプリのビルド</span><span class="sxs-lookup"><span data-stu-id="79006-150">Building a sample OpenXR app</span></span>

<span data-ttu-id="79006-151"><a href="https://github.com/Microsoft/OpenXR-SDK-VisualStudio/tree/master/samples/BasicXrApp" target="_blank">BasicXrApp</a>プロジェクトでは、2つの Visual Studio プロジェクトファイルを含む単純な OpenXR サンプルを示しています。1つは Win32 デスクトップアプリ用で、もう1つは UWP HoloLens 2 アプリ用です。</span><span class="sxs-lookup"><span data-stu-id="79006-151">The <a href="https://github.com/Microsoft/OpenXR-SDK-VisualStudio/tree/master/samples/BasicXrApp" target="_blank">BasicXrApp</a> project demonstrates a simple OpenXR sample with two Visual Studio project files, one for both a Win32 desktop app and one for a UWP HoloLens 2 app.</span></span>  <span data-ttu-id="79006-152">ソリューションには HoloLens UWP プロジェクトが含まれているため、Visual Studio にインストールされた[ユニバーサル Windows プラットフォームの開発ワークロード](install-the-tools.md#installation-checklist)を完全に開く必要があります。</span><span class="sxs-lookup"><span data-stu-id="79006-152">Because the solution contains a HoloLens UWP project, you'll need the [Universal Windows Platform development workload](install-the-tools.md#installation-checklist) installed in Visual Studio to fully open it.</span></span>

<span data-ttu-id="79006-153">Win32 と UWP のプロジェクトファイルは、パッケージ化と配置の違いによって分離されていますが、各プロジェクト内のアプリコード100は同じであることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="79006-153">Note that while the Win32 and UWP project files are separate due to differences in packaging and deployment, the app code inside each project is 100% the same!</span></span>

<span data-ttu-id="79006-154">OpenXR Win32 デスクトップを構築した後。EXE を使用して、OpenXR をサポートする任意の desktop VR プラットフォームの VR ヘッドセットと共に使用できます。これは、Windows Mixed Reality ヘッドセットであるか、他のヘッドセットであるかどうかによって異なります。</span><span class="sxs-lookup"><span data-stu-id="79006-154">After building an OpenXR Win32 desktop .EXE, you can use it with a VR headset on any desktop VR platform that supports OpenXR, whether it's a Windows Mixed Reality headset or any other headset.</span></span>

<span data-ttu-id="79006-155">OpenXR UWP アプリケーションパッケージをビルドした後、[そのパッケージ](using-visual-studio.md)を hololens 2 デバイスまたは Hololens 2 エミュレーターにデプロイできます。</span><span class="sxs-lookup"><span data-stu-id="79006-155">After building an OpenXR UWP app package, you can [deploy that package](using-visual-studio.md) to either a HoloLens 2 device or the HoloLens 2 Emulator.</span></span>

## <a name="openxr-app-best-practices-for-hololens-2"></a><span data-ttu-id="79006-156">HoloLens 2 の OpenXR app のベストプラクティス</span><span class="sxs-lookup"><span data-stu-id="79006-156">OpenXR app best practices for HoloLens 2</span></span>

<span data-ttu-id="79006-157">以下のベストプラクティスの例については、BasicXrApp の[OpenXRProgram](https://github.com/microsoft/OpenXR-SDK-VisualStudio/blob/master/samples/BasicXrApp/OpenXrProgram.cpp)ファイルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="79006-157">You can see an example of the best practices below in BasicXrApp's [OpenXRProgram.cpp](https://github.com/microsoft/OpenXR-SDK-VisualStudio/blob/master/samples/BasicXrApp/OpenXrProgram.cpp) file.</span></span> <span data-ttu-id="79006-158">最初の Run () 関数は、初期化からイベントおよびレンダリングループへの一般的な OpenXR app コードフローをキャプチャします。</span><span class="sxs-lookup"><span data-stu-id="79006-158">The Run() function at the beginning captures a typical OpenXR app code flow from initialization to the event and rendering loop.</span></span>

### <a name="select-a-pixel-format"></a><span data-ttu-id="79006-159">ピクセル形式を選択してください</span><span class="sxs-lookup"><span data-stu-id="79006-159">Select a pixel format</span></span>

<span data-ttu-id="79006-160">常に `xrEnumerateSwapchainFormats`を使用してサポートされているピクセル形式を列挙し、アプリがサポートするランタイムから最初の色と深度のピクセル形式を選択します。これは、ランタイムが推奨するものであるためです。</span><span class="sxs-lookup"><span data-stu-id="79006-160">Always enumerate supported pixel formats using `xrEnumerateSwapchainFormats`, and choose the first color and depth pixel format from the runtime that the app supports, because that's what the runtime prefers.</span></span> <span data-ttu-id="79006-161">HoloLens 2 では、通常、レンダリングのパフォーマンスを向上させるために、`DXGI_FORMAT_B8G8R8A8_UNORM_SRGB` と `DXGI_FORMAT_D16_UNORM` が最初に選択されます。</span><span class="sxs-lookup"><span data-stu-id="79006-161">Note, on HoloLens 2, `DXGI_FORMAT_B8G8R8A8_UNORM_SRGB` and `DXGI_FORMAT_D16_UNORM` is typically the first choice to achieve better rendering performance.</span></span> <span data-ttu-id="79006-162">この設定は、デスクトップ PC で実行されている VR ヘッドセットでは異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="79006-162">This preference can be different on VR headsets running on a Desktop PC.</span></span>  
  
<span data-ttu-id="79006-163">**パフォーマンスの警告:** プライマリスワップチェーンカラー形式以外の形式を使用すると、パフォーマンスが大幅に低下するランタイム後処理が発生します。</span><span class="sxs-lookup"><span data-stu-id="79006-163">**Performance Warning:** Using a format other than the primary swapchain color format will result in runtime post-processing which comes at a significant performance penalty.</span></span>

### <a name="gamma-correct-rendering"></a><span data-ttu-id="79006-164">ガンマ-正しいレンダリング</span><span class="sxs-lookup"><span data-stu-id="79006-164">Gamma-correct rendering</span></span>

<span data-ttu-id="79006-165">これはすべての OpenXR ランタイムに適用されますが、レンダリングパイプラインがガンマで正しいことを確認するために注意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="79006-165">Although this applies to all OpenXR runtimes, care must be taken to ensure the rendering pipeline is gamma-correct.</span></span> <span data-ttu-id="79006-166">スワップチェーンにレンダリングする場合、レンダーターゲットビュー形式は、スワップチェーン形式 (スワップチェーン形式とレンダーターゲットビューの両方の DXGI_FORMAT_B8G8R8A8_UNORM_SRGB など) と一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="79006-166">When rendering to a swapchain, the render-target view format should match the swapchain format (e.g. DXGI_FORMAT_B8G8R8A8_UNORM_SRGB for both the swapchain format and the render-target view).</span></span>
<span data-ttu-id="79006-167">例外は、アプリのレンダリングパイプラインがシェーダーコードで手動の sRGB 変換を行う場合です。この場合、アプリでは、sRGB スワップチェーン形式を要求しますが、レンダリングターゲットビューには線形形式を使用します (たとえば、要求 DXGI_FORMAT_B8G8R8A8_UNORM_SRGB をコンテンツがダブルガンマ補正されないようにするために、DXGI_FORMAT_B8G8R8A8_UNORM をレンダーターゲットビューとして使用します)。</span><span class="sxs-lookup"><span data-stu-id="79006-167">The exception is if the app's rendering pipeline does a manual sRGB conversion in shader code, in which case the app should request an sRGB swapchain format but use the linear format for the render-target view (e.g. request DXGI_FORMAT_B8G8R8A8_UNORM_SRGB as the swapchain format but use DXGI_FORMAT_B8G8R8A8_UNORM as the render-target view) to prevent content from being double-gamma corrected.</span></span>

### <a name="use-a-single-projection-layer"></a><span data-ttu-id="79006-168">1つの投影レイヤーを使用する</span><span class="sxs-lookup"><span data-stu-id="79006-168">Use a single projection layer</span></span>

<span data-ttu-id="79006-169">HoloLens 2 では、アプリケーションがコンテンツをレンダリングするための GPU 機能が制限されており、単一の投影レイヤー用に最適化されたハードウェアコンポジターが使用されています。</span><span class="sxs-lookup"><span data-stu-id="79006-169">HoloLens 2 has limited GPU power for applications to render content and a hardware compositor optimized for a single projection layer.</span></span>
<span data-ttu-id="79006-170">常に1つの投影レイヤーを使用すると、アプリケーションのフレームレート、ホログラムの安定性、およびビジュアルの品質を向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="79006-170">Always using a single projection layer can help the application's framerate, hologram stability and visual quality.</span></span>  
  
<span data-ttu-id="79006-171">**パフォーマンスの警告:** 1つの保護レイヤーだけを送信すると、パフォーマンスが大幅に低下するランタイム後処理が発生します。</span><span class="sxs-lookup"><span data-stu-id="79006-171">**Performance Warning:** Submitting anything but a single protection layer will result in runtime post-processing which comes at a significant performance penalty.</span></span>

### <a name="render-with-texture-array-and-vprt"></a><span data-ttu-id="79006-172">テクスチャ配列と VPRT を使用したレンダリング</span><span class="sxs-lookup"><span data-stu-id="79006-172">Render with texture array and VPRT</span></span>

<span data-ttu-id="79006-173">`arraySize=2` を使用して、色スワップチェーンに対して1つの `xrSwapchain` を作成し、1つを深さに対して作成します。</span><span class="sxs-lookup"><span data-stu-id="79006-173">Create one `xrSwapchain` for both left and right eye using `arraySize=2` for color swapchain, and one for depth.</span></span>
<span data-ttu-id="79006-174">スライス0に左側を表示し、スライス1に目を入れます。</span><span class="sxs-lookup"><span data-stu-id="79006-174">Render the left eye into slice 0 and the right eye into slice 1.</span></span>
<span data-ttu-id="79006-175">VPRT のシェーダーとインスタンス化された描画呼び出しのステレオスコピックレンダリングを使用して、GPU の負荷を最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="79006-175">Use a shader with VPRT and instanced draw calls for stereoscopic rendering to minimize GPU load.</span></span>
<span data-ttu-id="79006-176">これにより、ランタイムの最適化によって HoloLens 2 で最高のパフォーマンスを実現できます。</span><span class="sxs-lookup"><span data-stu-id="79006-176">This also enables the runtime's optimization to achieve the best performance on HoloLens 2.</span></span>
<span data-ttu-id="79006-177">2つのテクスチャ配列を使用する代わりに、2倍のレンダリングや個別のスワップチェーンなどを使用する代わりに、パフォーマンスが大幅に低下するランタイム後処理が発生します。</span><span class="sxs-lookup"><span data-stu-id="79006-177">Alternatives to using a texture array, such as double-wide rendering or a separate swapchain per eye, will result in runtime post-processing which comes at a significant performance penalty.</span></span>

### <a name="render-with-recommended-rendering-parameters-and-frame-timing"></a><span data-ttu-id="79006-178">推奨されるレンダリングパラメーターとフレームタイミングを使用したレンダリング</span><span class="sxs-lookup"><span data-stu-id="79006-178">Render with recommended rendering parameters and frame timing</span></span>

<span data-ttu-id="79006-179">常に、推奨されるビュー構成の幅/高さ (`recommendedImageRectWidth` と `recommendedImageRectHeight` `XrViewConfigurationView`) でレンダリングします。また、表示する前に、常に `xrLocateViews` API を使用して、推奨されるビューの設定、視界、およびその他のレンダリングパラメーターのクエリを実行します。</span><span class="sxs-lookup"><span data-stu-id="79006-179">Always render with the recommended view configuration width/height (`recommendedImageRectWidth` and `recommendedImageRectHeight` from `XrViewConfigurationView`), and always use `xrLocateViews` API to query for the recommended view pose, fov, and other rendering parameters before rendering.</span></span>
<span data-ttu-id="79006-180">ポーズとビューに対してクエリを実行する場合は、常に最新の `xrWaitFrame` 呼び出しの `XrFrameEndInfo.predictedDisplayTime` を使用します。</span><span class="sxs-lookup"><span data-stu-id="79006-180">Always use the `XrFrameEndInfo.predictedDisplayTime` from the latest `xrWaitFrame` call when querying for poses and views.</span></span>
<span data-ttu-id="79006-181">これにより、HoloLens は、HoloLens を装着しているユーザーに対してレンダリングを調整し、視覚品質を最適化することができます。</span><span class="sxs-lookup"><span data-stu-id="79006-181">This allows HoloLens to adjust rendering and optimize visual quality for the person who is wearing the HoloLens.</span></span>

### <a name="submit-depth-buffer-for-projection-layers"></a><span data-ttu-id="79006-182">プロジェクションレイヤーの深度バッファーを送信します</span><span class="sxs-lookup"><span data-stu-id="79006-182">Submit depth buffer for projection layers</span></span>

<span data-ttu-id="79006-183">`xrEndFrame`にフレームを送信する場合は、常に `XR_KHR_composition_layer_depth` 拡張機能を使用し、深度バッファーを投影レイヤーと一緒に送信します。</span><span class="sxs-lookup"><span data-stu-id="79006-183">Always use `XR_KHR_composition_layer_depth` extension and submit the depth buffer together with the projection layer when submitting a frame to `xrEndFrame`.</span></span>
<span data-ttu-id="79006-184">これにより、HoloLens 2 でハードウェアの深さの再投影を有効にすることで、ホログラムの安定性が向上します。</span><span class="sxs-lookup"><span data-stu-id="79006-184">This improves hologram stability by enabling hardware depth reprojection on HoloLens 2.</span></span>

### <a name="choose-a-reasonable-depth-range"></a><span data-ttu-id="79006-185">適切な深さの範囲を選択してください</span><span class="sxs-lookup"><span data-stu-id="79006-185">Choose a reasonable depth range</span></span>

<span data-ttu-id="79006-186">HoloLens でのホログラムの安定性を向上させるために、より狭い深さの範囲を使用して仮想コンテンツの範囲を絞り込みます。</span><span class="sxs-lookup"><span data-stu-id="79006-186">Prefer a narrower depth range to scope the virtual content to help hologram stability on HoloLens.</span></span>
<span data-ttu-id="79006-187">たとえば、OpenXrProgram サンプルでは、0.1 ~ 20 メートルが使用されています。</span><span class="sxs-lookup"><span data-stu-id="79006-187">For example, the OpenXrProgram.cpp sample is using 0.1 to 20 meters.</span></span>
<span data-ttu-id="79006-188">より一貫した深さの解決には、[逆順-Z](https://developer.nvidia.com/content/depth-precision-visualized)を使用します。</span><span class="sxs-lookup"><span data-stu-id="79006-188">Use [reversed-Z](https://developer.nvidia.com/content/depth-precision-visualized) for a more uniform depth resolution.</span></span>
<span data-ttu-id="79006-189">HoloLens 2 では、推奨される `DXGI_FORMAT_D16_UNORM` 深度形式を使用すると、フレームレートとパフォーマンスが向上します。ただし、16ビット深度バッファーでは、24ビット深度バッファーよりも深さの解像度が低くなります。</span><span class="sxs-lookup"><span data-stu-id="79006-189">Note that, on HoloLens 2, using the preferred `DXGI_FORMAT_D16_UNORM` depth format will help achieve better frame rate and performance, although 16-bit depth buffers provide less depth resolution than 24-bit depth buffers.</span></span>
<span data-ttu-id="79006-190">そのため、これらのベストプラクティスに従って、その深さの解決を最大限に活用することが重要になります。</span><span class="sxs-lookup"><span data-stu-id="79006-190">Therefore, following these best practices to make best use of the depth resolution becomes more important.</span></span>

### <a name="prepare-for-different-environment-blend-modes"></a><span data-ttu-id="79006-191">さまざまな環境の blend モードを準備する</span><span class="sxs-lookup"><span data-stu-id="79006-191">Prepare for different environment blend modes</span></span>

<span data-ttu-id="79006-192">また、世界を完全にブロックするイマーシブヘッドセットでアプリケーションを実行する場合は、`xrEnumerateEnvironmentBlendModes` API を使用してサポートされている環境の blend モードを列挙し、それに応じてレンダリングコンテンツを準備してください。</span><span class="sxs-lookup"><span data-stu-id="79006-192">If your application will also run on immersive headsets that completely block out the world, be sure to enumerate supported environment blend modes using `xrEnumerateEnvironmentBlendModes` API, and prepare your rendering content accordingly.</span></span>
<span data-ttu-id="79006-193">たとえば、HoloLens などの `XR_ENVIRONMENT_BLEND_MODE_ADDITIVE` を搭載したシステムの場合、アプリでは透明色として透明を使用する必要があります。一方、`XR_ENVIRONMENT_BLEND_MODE_OPAQUE`のシステムの場合、アプリは不透明色または一部の仮想ルームをバックグラウンドでレンダリングする必要があります。</span><span class="sxs-lookup"><span data-stu-id="79006-193">For example, for a system with `XR_ENVIRONMENT_BLEND_MODE_ADDITIVE` such as the HoloLens, the app should use transparent as the clear color, while for a system with `XR_ENVIRONMENT_BLEND_MODE_OPAQUE`, the app should render some opaque color or some virtual room in the background.</span></span>

### <a name="choose-unbounded-reference-space-as-applications-root-space"></a><span data-ttu-id="79006-194">アプリケーションのルート領域として非バインド参照スペースを選択する</span><span class="sxs-lookup"><span data-stu-id="79006-194">Choose unbounded reference space as application's root space</span></span>

<span data-ttu-id="79006-195">通常、アプリケーションは、ビュー、アクション、およびホログラムを連結するために、いくつかのルートワールド座標空間を確立します。</span><span class="sxs-lookup"><span data-stu-id="79006-195">Applications typically establish some root world coordinate space to connect views, actions and holograms together.</span></span>
<span data-ttu-id="79006-196">拡張機能を使用して[世界規模の座標系](coordinate-systems.md#building-a-world-scale-experience)を確立することがサポートされている場合は `XR_REFERENCE_SPACE_TYPE_UNBOUNDED_MSFT` を使用します。これにより、アプリの開始位置からユーザーが遠く (たとえば、5メートル離れた場所) に移動したときに望ましくないホログラムのずれが発生するのを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="79006-196">Use `XR_REFERENCE_SPACE_TYPE_UNBOUNDED_MSFT` when the extension is supported to establish a [world-scale coordinate system](coordinate-systems.md#building-a-world-scale-experience), enabling your app to avoid undesired hologram drift when the user moves far (e.g. 5 meters away) from where the app starts.</span></span>
<span data-ttu-id="79006-197">非バインド領域の拡張機能が存在しない場合は、フォールバックとして `XR_REFERENCE_SPACE_TYPE_LOCAL` を使用します。</span><span class="sxs-lookup"><span data-stu-id="79006-197">Use `XR_REFERENCE_SPACE_TYPE_LOCAL` as a fallback if the unbounded space extension doesn't exist.</span></span>

### <a name="associate-hologram-with-spatial-anchor"></a><span data-ttu-id="79006-198">ホログラムを空間アンカーに関連付ける</span><span class="sxs-lookup"><span data-stu-id="79006-198">Associate hologram with spatial anchor</span></span>

<span data-ttu-id="79006-199">バインドされていない参照空間を使用する場合、その参照空間に直接配置したホログラムは、遠くの部屋に移動した後に戻ったときに、[ずれを生じる可能性があり](coordinate-systems.md#building-a-world-scale-experience)ます。</span><span class="sxs-lookup"><span data-stu-id="79006-199">When using an unbounded reference space, holograms you place directly in that reference space [may drift as the user walks to distant rooms and then comes back](coordinate-systems.md#building-a-world-scale-experience).</span></span>
<span data-ttu-id="79006-200">ホログラムユーザーが世界中の個別の場所に配置されるようにするには、`xrCreateSpatialAnchorSpaceMSFT` 拡張機能を使用して[空間アンカーを作成](spatial-anchors.md#best-practices)し、その原点にホログラムを配置します。</span><span class="sxs-lookup"><span data-stu-id="79006-200">For hologram users place at a discrete location in the world, [create a spatial anchor](spatial-anchors.md#best-practices) using the `xrCreateSpatialAnchorSpaceMSFT` extension function and position the hologram at its origin.</span></span>
<span data-ttu-id="79006-201">これにより、そのホログラムは時間の経過と共に個別に安定した状態に保たれます</span><span class="sxs-lookup"><span data-stu-id="79006-201">That will keep that hologram independently stable over time.</span></span>

### <a name="support-mixed-reality-capture"></a><span data-ttu-id="79006-202">混合現実のキャプチャをサポートする</span><span class="sxs-lookup"><span data-stu-id="79006-202">Support mixed reality capture</span></span>

<span data-ttu-id="79006-203">HoloLens 2 のプライマリディスプレイは加法の環境ブレンドを使用しますが、ユーザーが[mixed reality キャプチャ](mixed-reality-capture-for-developers.md)を開始すると、アプリのレンダリングコンテンツは環境のビデオストリームとアルファブレンドされます。</span><span class="sxs-lookup"><span data-stu-id="79006-203">Although HoloLens 2's primary display uses additive environment blending, when the user initiates [mixed reality capture](mixed-reality-capture-for-developers.md), the app's rendering content will be alpha-blended with the environment video stream.</span></span>
<span data-ttu-id="79006-204">Mixed reality のキャプチャビデオで最高の画質を実現するには、投影レイヤーの `layerFlags`に `XR_COMPOSITION_LAYER_BLEND_TEXTURE_SOURCE_ALPHA_BIT` を設定することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="79006-204">To achieve the best visual quality in mixed reality capture videos, it's best to set the `XR_COMPOSITION_LAYER_BLEND_TEXTURE_SOURCE_ALPHA_BIT` in your projection layer's `layerFlags`.</span></span>  

<span data-ttu-id="79006-205">**パフォーマンスの警告:** 1つの投影レイヤーで `XR_COMPOSITION_LAYER_BLEND_TEXTURE_SOURCE_ALPHA_BIT` フラグを省略すると、パフォーマンスが大幅に低下するランタイム後処理が発生します。</span><span class="sxs-lookup"><span data-stu-id="79006-205">**Performance Warning:** Omitting the `XR_COMPOSITION_LAYER_BLEND_TEXTURE_SOURCE_ALPHA_BIT` flag on the single projection layer will result in runtime post-processing which comes at a significant performance penalty.</span></span>

### <a name="avoid-quad-layers"></a><span data-ttu-id="79006-206">クワッドレイヤーを避ける</span><span class="sxs-lookup"><span data-stu-id="79006-206">Avoid quad layers</span></span>

<span data-ttu-id="79006-207">`XrCompositionLayerQuad`を使用して構成レイヤーとしてクワッドレイヤーを送信するのではなく、クワッドコンテンツを射影 swapchain に直接レンダリングします。</span><span class="sxs-lookup"><span data-stu-id="79006-207">Rather than submitting quad layers as composition layers with `XrCompositionLayerQuad`, render the quad content directly into the projection swapchain.</span></span>

<span data-ttu-id="79006-208">**パフォーマンスの警告:** クワッドレイヤーなど、1つの投影レイヤーを超えて追加のレイヤーを提供すると、パフォーマンスが大幅に低下するランタイム後処理が発生します。</span><span class="sxs-lookup"><span data-stu-id="79006-208">**Performance Warning:** Providing additional layers beyond a single projection layer, such as quad layers, will result in runtime post-processing which comes at a significant performance penalty.</span></span>

## <a name="openxr-app-performance-on-hololens-2"></a><span data-ttu-id="79006-209">HoloLens 2 での OpenXR アプリのパフォーマンス</span><span class="sxs-lookup"><span data-stu-id="79006-209">OpenXR app performance on HoloLens 2</span></span>

<span data-ttu-id="79006-210">HoloLens 2 では、`xrEndFrame` を使用してコンポジションデータを送信する方法が多数あり、その結果、パフォーマンスが大幅に低下する後処理が発生します。</span><span class="sxs-lookup"><span data-stu-id="79006-210">On HoloLens 2, there are a number of ways to submit composition data through `xrEndFrame` which will result in post-processing that will have a noticeable performance penalty.</span></span>
<span data-ttu-id="79006-211">パフォーマンス penalities を回避するには、次の特性を持つ[1 つの `XrCompositionProjectionLayer`を送信](#use-a-single-projection-layer)します。</span><span class="sxs-lookup"><span data-stu-id="79006-211">To avoid performance penalities, [submit a single `XrCompositionProjectionLayer`](#use-a-single-projection-layer) with the following characteristics:</span></span>
* [<span data-ttu-id="79006-212">テクスチャ配列のスワップチェーンを使用する</span><span class="sxs-lookup"><span data-stu-id="79006-212">Use a texture array swapchain</span></span>](#render-with-texture-array-and-vprt)
* [<span data-ttu-id="79006-213">プライマリ色のスワップチェーン形式を使用する</span><span class="sxs-lookup"><span data-stu-id="79006-213">Use the primary color swapchain format</span></span>](#select-a-pixel-format)
* [<span data-ttu-id="79006-214">テクスチャソース-アルファブレンドフラグを設定する</span><span class="sxs-lookup"><span data-stu-id="79006-214">Set the texture-source-alpha blending flag</span></span>](#support-mixed-reality-capture)
* [<span data-ttu-id="79006-215">推奨ビューディメンションを使用する</span><span class="sxs-lookup"><span data-stu-id="79006-215">Use the recommended view dimensions</span></span>](#render-with-recommended-rendering-parameters-and-frame-timing)
* <span data-ttu-id="79006-216">`XR_COMPOSITION_LAYER_UNPREMULTIPLIED_ALPHA_BIT` フラグを設定しない</span><span class="sxs-lookup"><span data-stu-id="79006-216">Do not set the `XR_COMPOSITION_LAYER_UNPREMULTIPLIED_ALPHA_BIT` flag</span></span>
* <span data-ttu-id="79006-217">`XrCompositionLayerDepthInfoKHR` `minDepth` を 0.0 f に、`maxDepth` を 1.0 f に設定します</span><span class="sxs-lookup"><span data-stu-id="79006-217">Set the `XrCompositionLayerDepthInfoKHR` `minDepth` to 0.0f and `maxDepth` to 1.0f</span></span>

<span data-ttu-id="79006-218">その他の考慮事項により、パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="79006-218">Additional considerations will result in better performance:</span></span>
* [<span data-ttu-id="79006-219">16ビット深度形式を使用する</span><span class="sxs-lookup"><span data-stu-id="79006-219">Use the 16-bit depth format</span></span>](#choose-a-reasonable-depth-range)
* [<span data-ttu-id="79006-220">インスタンス化描画呼び出しを作成する</span><span class="sxs-lookup"><span data-stu-id="79006-220">Make instanced draw calls</span></span>](#render-with-texture-array-and-vprt)

## <a name="roadmap"></a><span data-ttu-id="79006-221">ロードマップ</span><span class="sxs-lookup"><span data-stu-id="79006-221">Roadmap</span></span>

<span data-ttu-id="79006-222">OpenXR 仕様では、ランタイム実装者が<a href="https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html" target="_blank">Base OpenXR 1.0 仕様</a>で定義されている[コア機能](openxr.md#what-is-openxr)以外の機能を公開できるようにする拡張機構を定義しています。</span><span class="sxs-lookup"><span data-stu-id="79006-222">The OpenXR specification defines an extension mechanism that enables runtime implementers to expose additional functionality beyond the [core features](openxr.md#what-is-openxr) defined in the <a href="https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html" target="_blank">base OpenXR 1.0 specification</a>.</span></span>

<span data-ttu-id="79006-223">OpenXR 拡張機能には、次の3種類があります。</span><span class="sxs-lookup"><span data-stu-id="79006-223">There are three kinds of OpenXR extensions:</span></span>
* <span data-ttu-id="79006-224">**ベンダ拡張機能 (例: MSFT):** ハードウェアまたはソフトウェアの機能でベンダーごとのイノベーションを実現します。</span><span class="sxs-lookup"><span data-stu-id="79006-224">**Vendor extensions (e.g. MSFT):** Enables per-vendor innovation in hardware or software features.</span></span>  <span data-ttu-id="79006-225">任意のランタイムベンダは、いつでもベンダ拡張機能を導入および出荷できます。</span><span class="sxs-lookup"><span data-stu-id="79006-225">Any runtime vendor can introduce and ship a vendor extension at any time.</span></span>
* <span data-ttu-id="79006-226">**拡張機能:** 複数の企業が定義および実装するクロスベンダーの拡張機能。</span><span class="sxs-lookup"><span data-stu-id="79006-226">**EXT extensions:** Cross-vendor extensions that multiple companies define and implement.</span></span>  <span data-ttu-id="79006-227">関心のある企業のグループは、いつでも拡張機能を導入できます。</span><span class="sxs-lookup"><span data-stu-id="79006-227">Groups of interested companies can introduce EXT extensions at any time.</span></span>
* <span data-ttu-id="79006-228">**Khr 拡張機能:** Khronos の公式拡張機能は、コア仕様リリースの一部として批准されています。</span><span class="sxs-lookup"><span data-stu-id="79006-228">**KHR extensions:** Official Khronos extensions ratified as part of a core spec release.</span></span>  <span data-ttu-id="79006-229">KHR 拡張機能は、コア仕様自体と同じライセンスによってカバーされます。</span><span class="sxs-lookup"><span data-stu-id="79006-229">KHR extensions are covered by the same license as the core spec itself.</span></span>

<span data-ttu-id="79006-230">Windows Mixed Reality OpenXR Runtime は、年の終わりまでに、HoloLens 2 の機能の完全なセットを OpenXR アプリケーションに取り込む、MSFT と EXT の一連の拡張機能をサポートします。</span><span class="sxs-lookup"><span data-stu-id="79006-230">By the end of the year, the Windows Mixed Reality OpenXR Runtime will support a set of MSFT and EXT extensions that bring the full set of HoloLens 2 features to OpenXR applications:</span></span>
* [<span data-ttu-id="79006-231">無制限の参照スペース (ワールドスケールエクスペリエンス)</span><span class="sxs-lookup"><span data-stu-id="79006-231">Unbounded reference space (world-scale experiences)</span></span>](coordinate-systems.md#building-a-world-scale-experience)
* [<span data-ttu-id="79006-232">空間アンカー + ストレージ</span><span class="sxs-lookup"><span data-stu-id="79006-232">Spatial anchors + storage</span></span>](spatial-anchors.md)
* [<span data-ttu-id="79006-233">手 articulation + 手メッシュ</span><span class="sxs-lookup"><span data-stu-id="79006-233">Hand articulation + hand mesh</span></span>](hands-and-tools.md)
* [<span data-ttu-id="79006-234">目の視線入力</span><span class="sxs-lookup"><span data-stu-id="79006-234">Eye gaze</span></span>](eye-tracking.md)
* [<span data-ttu-id="79006-235">セカンダリビューの構成 (Mixed Reality キャプチャ)</span><span class="sxs-lookup"><span data-stu-id="79006-235">Secondary view configurations (Mixed Reality Capture)</span></span>](mixed-reality-capture-for-developers.md#render-from-the-pv-camera-opt-in)
* [<span data-ttu-id="79006-236">シーンの理解</span><span class="sxs-lookup"><span data-stu-id="79006-236">Scene understanding</span></span>](scene-understanding.md)
* <span data-ttu-id="79006-237">Windows SDK Api との相互運用</span><span class="sxs-lookup"><span data-stu-id="79006-237">Interop with Windows SDK APIs</span></span>

<span data-ttu-id="79006-238">これらの拡張機能の一部は、ベンダー固有の MSFT 拡張機能として開始される場合がありますが、Microsoft およびその他の OpenXR runtime ベンダーが連携して、これらの機能領域の多くについて、クロスベンダーの EXT または KHR 拡張機能を設計します。</span><span class="sxs-lookup"><span data-stu-id="79006-238">While some of these extensions may start out as vendor-specific MSFT extensions, Microsoft and other OpenXR runtime vendors are working together to design cross-vendor EXT or KHR extensions for many of these feature areas.</span></span>  <span data-ttu-id="79006-239">これにより、コア仕様と同様に、これらの機能用に記述したコードをランタイムベンダー間で移植可能にすることができます。</span><span class="sxs-lookup"><span data-stu-id="79006-239">This will enable the code you write for those features to be portable across runtime vendors, just as with the core specification.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="79006-240">トラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="79006-240">Troubleshooting</span></span>

<span data-ttu-id="79006-241">Windows Mixed Reality OpenXR Runtime のトラブルシューティングのヒントを次に示します。</span><span class="sxs-lookup"><span data-stu-id="79006-241">Here are some troubleshooting tips for the Windows Mixed Reality OpenXR Runtime.</span></span>  <span data-ttu-id="79006-242"><a href="https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html" target="_blank">OpenXR 1.0 の仕様</a>に関して他に質問がある場合は、 <a href="https://community.khronos.org/c/openxr" target="_blank">Khronos OpenXR フォーラム</a>または<a href="https://khr.io/slack" target="_blank">余裕期間 #openxr チャネル</a>にアクセスしてください。</span><span class="sxs-lookup"><span data-stu-id="79006-242">If you have any other questions about the <a href="https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html" target="_blank">OpenXR 1.0 specification</a>, please visit the <a href="https://community.khronos.org/c/openxr" target="_blank">Khronos OpenXR Forums</a> or <a href="https://khr.io/slack" target="_blank">Slack #openxr channel</a>.</span></span>

### <a name="developing-on-windows-10-october-2018-update"></a><span data-ttu-id="79006-243">Windows 10 10 月2018更新プログラムの開発</span><span class="sxs-lookup"><span data-stu-id="79006-243">Developing on Windows 10 October 2018 Update</span></span>

<span data-ttu-id="79006-244">開発用 PC を2019年5月[の更新プログラムにアップグレード](https://www.microsoft.com//software-download/windows10)できない場合は、もう1つの手順に従って、Windows 10 10 月2018更新プログラム (1809) PC を開発用にセットアップできます。</span><span class="sxs-lookup"><span data-stu-id="79006-244">If you're not able to [upgrade your development PC to the May 2019 Update](https://www.microsoft.com//software-download/windows10), you can set up your Windows 10 October 2018 Update (1809) PC for development by following one more step:</span></span>

1. <span data-ttu-id="79006-245">上記の手順に従って、デスクトップ PC で OpenXR を開始します。</span><span class="sxs-lookup"><span data-stu-id="79006-245">Follow the steps above to get started with OpenXR on your desktop PC.</span></span>
1. <span data-ttu-id="79006-246">Windows Mixed Reality OpenXR Runtime をシステムのアクティブな OpenXR ランタイムとして設定するには、 [Windows Mixed Reality OpenXR Developer Compatibility Pack](https://aka.ms/openxr-compat)をインストールします。</span><span class="sxs-lookup"><span data-stu-id="79006-246">To set the Windows Mixed Reality OpenXR Runtime as your system's active OpenXR runtime, install the [Windows Mixed Reality OpenXR Developer Compatibility Pack](https://aka.ms/openxr-compat).</span></span>

> [!NOTE]
> <span data-ttu-id="79006-247">OpenXR アプリケーションを開発するときに Windows 10 10 月2018更新プログラム (1809) を使用できますが、windows 10 月2019更新プログラム (1903) は、エンドユーザーが Windows Mixed Reality で OpenXR を使用するための最小要件となります。</span><span class="sxs-lookup"><span data-stu-id="79006-247">Although Windows 10 October 2018 Update (1809) can be used when developing your OpenXR applications, the Windows 10 May 2019 Update (1903) is the minimum requirement for end users to use OpenXR with Windows Mixed Reality.</span></span>  <span data-ttu-id="79006-248">2018年10月の更新で OpenXR アプリを実行すると、パフォーマンスやその他の問題が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="79006-248">You may experience lower performance or other issues when running your OpenXR app on the October 2018 Update.</span></span>  <span data-ttu-id="79006-249">開発用 PC を Windows 10 5 月2019更新プログラム (1903) にアップグレードすることを強くお勧めします。</span><span class="sxs-lookup"><span data-stu-id="79006-249">It is strongly recommended that you upgrade your development PC to the Windows 10 May 2019 Update (1903).</span></span>

### <a name="openxr-app-not-starting-windows-mixed-reality"></a><span data-ttu-id="79006-250">OpenXR app が Windows Mixed Reality を開始しない</span><span class="sxs-lookup"><span data-stu-id="79006-250">OpenXR app not starting Windows Mixed Reality</span></span>

<span data-ttu-id="79006-251">実行時に OpenXR アプリが Windows Mixed Reality を起動していない場合は、Windows Mixed Reality OpenXR ランタイムがアクティブなランタイムとして設定されていない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="79006-251">If your OpenXR app is not starting Windows Mixed Reality when you run it, the Windows Mixed Reality OpenXR Runtime may not be set as the active runtime.</span></span>  <span data-ttu-id="79006-252">前の手順に従って、 [Windows Mixed Reality ヘッドセットの OpenXR を使用](#getting-started-with-openxr-for-windows-mixed-reality-headsets)してランタイムをアクティブにしてください。</span><span class="sxs-lookup"><span data-stu-id="79006-252">Be sure to follow the instructions above for [getting started with OpenXR for Windows Mixed Reality headsets](#getting-started-with-openxr-for-windows-mixed-reality-headsets) to make the runtime active.</span></span>

<span data-ttu-id="79006-253">また、 [Mixed Reality OpenXR 開発者ポータル](#getting-the-mixed-reality-openxr-developer-portal)を実行して、システム上の Windows Mixed Reality OpenXR ランタイムの状態に関する追加のトラブルシューティングを行うこともできます。</span><span class="sxs-lookup"><span data-stu-id="79006-253">You can also run the [Mixed Reality OpenXR Developer Portal](#getting-the-mixed-reality-openxr-developer-portal) for additional troubleshooting help around the state of the Windows Mixed Reality OpenXR Runtime on your system.</span></span>

### <a name="mixed-reality-portal-not-showing-set-up-openxr-menu-item"></a><span data-ttu-id="79006-254">Mixed Reality ポータルに [OpenXR の設定] メニュー項目が表示されない</span><span class="sxs-lookup"><span data-stu-id="79006-254">Mixed Reality Portal not showing "Set up OpenXR" menu item</span></span>

<span data-ttu-id="79006-255">少なくとも Windows 10 10 月2018更新プログラム (1809) を実行していることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="79006-255">Be sure you are running at least the Windows 10 October 2018 Update (1809).</span></span>  <span data-ttu-id="79006-256">以前のバージョンの Windows 10 を使用している場合は、 [windows 10 Update Assistant](https://www.microsoft.com//software-download/windows10)を使用して、2019年5月の更新プログラム (1903) にアップグレードすることができます。</span><span class="sxs-lookup"><span data-stu-id="79006-256">If you're on an earlier version of Windows 10, you can upgrade to the May 2019 Update (1903) using the [Windows 10 Update Assistant](https://www.microsoft.com//software-download/windows10).</span></span>

<span data-ttu-id="79006-257">以前のバージョンの Mixed Reality ポータルアプリを使用している場合は、[OpenXR の設定] メニュー項目を使用できないことがあります。</span><span class="sxs-lookup"><span data-stu-id="79006-257">The "Set up OpenXR" menu item may not be available if you have an older version of the Mixed Reality Portal app.</span></span>  <span data-ttu-id="79006-258">[Mixed Reality ポータルアプリの更新プログラム](https://www.microsoft.com/p/mixed-reality-portal/9ng1h8b3zc7m)を確認して、最新バージョンがあることを確認します。</span><span class="sxs-lookup"><span data-stu-id="79006-258">Check for a [Mixed Reality Portal app update](https://www.microsoft.com/p/mixed-reality-portal/9ng1h8b3zc7m) to ensure you have the latest version.</span></span>

<span data-ttu-id="79006-259">Windows Mixed Reality OpenXR Runtime が既にインストールされ、アクティブになっている場合は、[OpenXR の設定] メニュー項目が表示されないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="79006-259">Note that the "Set up OpenXR" menu item will not show up if the Windows Mixed Reality OpenXR Runtime is already installed and active.</span></span>  <span data-ttu-id="79006-260">[Mixed Reality OpenXR Developer Portal](#getting-the-mixed-reality-openxr-developer-portal)をインストールすると、システム上の OpenXR ランタイムの現在の状態を確認できます。</span><span class="sxs-lookup"><span data-stu-id="79006-260">You can install the [Mixed Reality OpenXR Developer Portal](#getting-the-mixed-reality-openxr-developer-portal) to determine the current status of the OpenXR runtime on your system.</span></span>

## <a name="see-also"></a><span data-ttu-id="79006-261">関連項目</span><span class="sxs-lookup"><span data-stu-id="79006-261">See also</span></span>

* <span data-ttu-id="79006-262"><a href="https://www.khronos.org/openxr/" target="_blank">OpenXR の詳細情報</a></span><span class="sxs-lookup"><span data-stu-id="79006-262"><a href="https://www.khronos.org/openxr/" target="_blank">More information on OpenXR</a></span></span>
* <span data-ttu-id="79006-263"><a href="https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html" target="_blank">OpenXR 1.0 仕様</a></span><span class="sxs-lookup"><span data-stu-id="79006-263"><a href="https://www.khronos.org/registry/OpenXR/specs/1.0/html/xrspec.html" target="_blank">OpenXR 1.0 specification</a></span></span>
* <span data-ttu-id="79006-264"><a href="https://www.khronos.org/registry/OpenXR/specs/1.0/man/html/openxr.html" target="_blank">OpenXR 1.0 API リファレンス</a></span><span class="sxs-lookup"><span data-stu-id="79006-264"><a href="https://www.khronos.org/registry/OpenXR/specs/1.0/man/html/openxr.html" target="_blank">OpenXR 1.0 API reference</a></span></span>
* <span data-ttu-id="79006-265"><a href="https://www.khronos.org/files/openxr-10-reference-guide.pdf" target="_blank">OpenXR 1.0 クイックリファレンスガイド</a></span><span class="sxs-lookup"><span data-stu-id="79006-265"><a href="https://www.khronos.org/files/openxr-10-reference-guide.pdf" target="_blank">OpenXR 1.0 quick reference guide</a></span></span>

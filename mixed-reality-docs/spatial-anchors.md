---
title: 空間のアンカー
description: 安定したホログラムを表示するために空間的表現のアンカーを使用するためのベスト プラクティス。
author: thetuvix
ms.author: alexturn
ms.date: 02/24/2019
ms.topic: article
ms.localizationpriority: high
keywords: 座標系、空間座標系、世界規模、世界、スケール、位置、向き、アンカー、空間アンカー、世界中ロックされている、世界中のロックの永続化の共有
ms.openlocfilehash: 16165194d040ad22f7885897eddcc65cf9dcaec3
ms.sourcegitcommit: 1c0fbee8fa887525af6ed92174edc42c05b25f90
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/16/2019
ms.locfileid: "65730860"
---
# <a name="spatial-anchors"></a>空間のアンカー

空間アンカーは、システムを追跡する時間の経過と共に、世界中で重要なポイントを表します。 各アンカーが、[座標系](coordinate-systems.md)必要に応じて、他のアンカーを基準を調整するか、固定ホログラムの正確でを維持するために、フレームの参照を配置します。  ホログラム アンカーの座標システムでのレンダリングは、任意の時点でそのホログラムの最も正確な位置します。 これは、若干の調整を犠牲時間の経過と共にホログラムの位置に移動すると、システム継続的に、戻る現実の世界を基準に。

永続化し、アプリケーション セッション間で、デバイス間で空間アンカーを共有できます。
* ディスクと読み込みの後で戻すことをローカル空間アンカーを保存することによって、アプリは、HoloLens デバイスに複数のアプリケーション セッション間で実際に同じ場所について推論できます。
* 使用して<a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Azure 空間アンカー</a>クラウド アンカーを作成するアプリは、複数の HoloLens、iOS および Android デバイスの間で空間アンカーを共有できます。 同じ空間アンカーを使用してホログラムをレンダリングする各デバイスで、すべてのユーザーは現実の世界と同じ場所に表示されるホログラムに表示されます。  これにより、リアルタイムのエクスペリエンスを共有します。
* 使用することも<a href="https://docs.microsoft.com/azure/spatial-anchors/overview" target="_blank">Azure 空間アンカー</a> HoloLens、iOS および Android デバイスの間で非同期ホログラム永続化します。  持続性のあるクラウド空間アンカーを共有することで複数のデバイスはこれらのデバイスがまとめてと同時に存在しない場合でも、時間の経過と共に同じ永続化されたホログラムを確認できます。

永続的なスケールやルーム スケールは、5 m の直径の範囲内に収まるテザリングのデスクトップ ヘッドセットのエクスペリエンス、通常、使用できる、[ステージ座標系](coordinate-systems.md#stage-frame-of-reference)空間アンカーは、代わりに用意されており、1 つすべてのコンテンツを表示する座標系。 ただし場合は、アプリは、5 m を超える、HoloLens を旅してもらうためには、おそらく、ビルのフロア全体を通じてオペレーティング必要がありますコンテンツの安定性を維持する空間のアンカー。

空間アンカーは必要のある固定世界では、格納されると、アンカー ホログラムに適していますが、移動できません。 アンカー タグは、ユーザーと動的のホログラムより適切な代替案がないです。 静止したフレームの基準 (Unity のワールド座標の foundation) または接続されている基準を使用して動的ホログラムを配置することをお勧めします。

## <a name="best-practices"></a>ベスト プラクティス

これらの空間アンカー ガイドラインを使用すると、現実の世界を正確に追跡する安定したホログラムをレンダリングできます。

### <a name="create-spatial-anchors-where-users-place-them"></a>空間のアンカーをユーザーがそれらを配置する場所の作成します。

ほとんどの場合、ユーザーには、空間アンカーを明示的に配置するものが必要があります。

たとえば、HoloLens でアプリが重なり合う部分、ユーザーの[視線](gaze.md)でレイ トレーシング、[空間マッピング](spatial-mapping.md)メッシュ ホログラムを配置する場所を決定できます。 ユーザーがそのホログラムを配置するをタップする、交点を空間アンカーを作成し、そのアンカーの座標系の原点を注視ホログラムを配置します。

ローカル空間アンカーが簡単にあり、パフォーマンスの高いを作成して、システムは、複数のアンカーが基になるセンサー データを共有している場合に、自身の内部データに統合は。 通常、ユーザーが明示的に配置する各ホログラムの新しいローカル空間アンカーを作成する必要がありますホログラムの固定のグループなどの下に記載されている場合は除きます。

### <a name="always-render-anchored-holograms-within-3-meters-of-their-anchor"></a>アンカーの 3 つのメートル単位内で常に固定されてレンダリング ホログラム

空間アンカーには、アンカーの配信元の近くの座標システムが安定化します。 ホログラムが原点から複数の約 3 メートルをレンダリングするこれらホログラムでレバー arm 効果により、その配信元からの距離に比例して顕著な位置指定のエラーが発生する可能性があります。 機能して場合があるため、ホログラム離れた、ユーザーからも離れたホログラムの angular エラーは小さくなります。 つまり、アンカーの近くのユーザーを表します。 ただし場合、ユーザーは、離れたそのホログラム説明して、しことが大きなのビューで表示、作成、遠隔地のアンカーの配信元からレバー arm 効果を非常にはっきりします。

### <a name="group-holograms-that-should-form-a-rigid-cluster"></a>剛体のクラスターを形成する必要がありますグループ ホログラム

複数ホログラムは、アプリが互いに固定のリレーションシップを維持するためにこれらのホログラムが必要な場合、同じ空間アンカーを共有できます。

たとえば、部屋に holographic 太陽系をアニメーション化する場合勧めセンターでは、すべての 1 つのアンカーを太陽系オブジェクトを関連付ける相互に比較したスムーズに移動するようします。 この場合は太陽系全体が固定される場合でも、コンポーネントは、アンカーを動的に移動します。

ホログラム安定性を維持するためのキーの注意事項は、ここでは、上記の 3 メータリング規則に従ってください。

### <a name="render-highly-dynamic-holograms-using-the-stationary-frame-of-reference-instead-of-a-local-spatial-anchor"></a>レンダリング フレームの静止した基準を使用して、ローカル空間アンカーではなく、非常に動的ホログラム

ルーム、または、ユーザーに近い壁に沿っている浮動小数点の UI を歩き文字などの非常に動的ホログラムがある場合は、ローカル空間アンカーをスキップして、によって提供される座標システムで直接それらホログラムをレンダリングする最適な[</c0>フレームの静止した基準<spanclass="notranslate">](coordinate-systems.md#stationary-frame-of-reference)(つまり、Unity でこれを実現する、WorldAnchor せずワールド座標内で直接ホログラムを配置することによって)。</span> ホログラムから遠く離れた、ユーザーが、これは動的ホログラムの顕著な少なく場合に、静止した基準枠でホログラムは誤差を発生可能性がありますとにかく、ホログラムが行き来または動き保持常にユーザーの近くに。、誤差を最小化します。

動的ホログラムの 1 つの興味深いケースは、別の固定の 1 つの座標システムからアニメーション化するオブジェクトです。 たとえば、があります castle の 2 つ 10 m 離れている場合は、それぞれの独自の空間のアンカーに他 castle での cannonball を発生させる 1 つの castle を。 Cannonball が発生した時点には、静止フレームの基準の最初の castle の固定の座標システムでキャノンと一致するための適切な場所でレンダリングすることができます。 その軌道フレームの静止した基準では、飛行空中を 10 m に従うことができます。 Cannonball では、その他の castle に達すると、物理運動の castle の剛体を使用して計算を許可する座標系を固定に 2 つ目の castle を移動することができます。

デバイス間で非常に動的ホログラムを共有している場合は、フレームの静止した基準をデバイス間で共有できないように、親として機能するいくつかのクラウド空間アンカーを選択する必要があります。  ただし、この場合、行う必要がありますホログラムがすべてのデバイスで安定して表示されるように、アンカーの 3 つのメーター半径内にあるいずれか"、"動的ホログラム"または"表示するデバイスが残ります。

### <a name="avoid-creating-a-grid-of-spatial-anchors"></a>空間アンカーのグリッドを作成しないでください。

アプリ内を移動する、動的オブジェクトをアンカー アンカーへ移行、説明、ユーザーと空間アンカーの通常のグリッドを削除したくなることがあります。 ただし、これは多くシステム自体は内部的に保持する詳細なセンサー データの利点も、アプリの管理にはが含まれます。 ような場合、する通常が実現されます少ない労力でより良い結果フレームの静止した基準で、ホログラムを配置することで、前のセクションで説明されています。

一連の静的な領域の周囲のクラウド空間アンカーをあらかじめ配置するには、ときに、アンカーの任意のグリッドを作成するのではなく、空間のアンカーをユーザーが、上記の原則あたり発生キー ホログラムの場所に配置することを検討してください。  これにより、これらのキー ホログラムの最大の安定性を取得すること。

### <a name="release-local-spatial-anchors-you-no-longer-need"></a>リリースが不要になったローカルの空間アンカー

ローカル空間アンカーがアクティブな間、システムはそのアンカー近くにあるセンサー データを管理することを優先します。 場合は、空間のアンカー停止がその座標システムへのアクセスを使用しなくなった。 これにより、その基になるセンサー データを削除する必要に応じて。

これは、ローカルのアンカー空間アンカー ストアに保持したにとって特に重要です。 これらのアンカーの背後にあるセンサー データは、アプリをそのアンカー今後アプリのセッションで、その他のアンカーを追跡するために使用できる領域が削減されますを許可するの永続的に保持されます。 今後のセッションにもう一度検索し、ユーザーにとって意味が不要になったときに、ストアから削除する必要のあるローカル アンカーのみを保持します。

記憶域クラウド空間のアンカーのシナリオで必要とされるスケールできます。  必要に応じて、ユーザーがそのアンカーでホログラムをもう一度検索する必要がないことがわかっている場合にのみ解放する多くのクラウド アンカーを格納することがあります。

## <a name="see-also"></a>関連項目
* [座標系](coordinate-systems.md)
* [複合現実での共有エクスペリエンス](shared-experiences-in-mixed-reality.md)
* <a href="https://docs.microsoft.com/azure/spatial-anchors" target="_blank">Azure Spatial Anchors</a>
* [Unity の永続化](persistence-in-unity.md)
* [DirectX の空間アンカー](coordinate-systems-in-directx.md#place-holograms-in-the-world-using-spatial-anchors)
* [導入事例 - 実際には、セキュリティ ホールを見る](case-study-looking-through-holes-in-your-reality.md)

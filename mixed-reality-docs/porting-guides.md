---
title: 移植ガイド
description: Windows Mixed Reality を既存の没入型アプリケーションを移植する方法を説明するステップ バイ ステップ チュートリアルです。
author: ChimeraScorn
ms.author: cwhite
ms.date: 10/02/2018
ms.topic: article
keywords: ポート、移植、unity、ミドルウェア、エンジンを UWP
ms.openlocfilehash: a4a8c78f1c45fd8e3b85a767d139bae9f67540e0
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/12/2019
ms.locfileid: "59602181"
---
# <a name="porting-guides"></a><span data-ttu-id="3e41a-104">移植ガイド</span><span class="sxs-lookup"><span data-stu-id="3e41a-104">Porting guides</span></span>

> [!NOTE]
> <span data-ttu-id="3e41a-105">HoloLens 2 に固有のガイダンスについて[近日](index.md#news-and-notes)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-105">More guidance specific to HoloLens 2 [coming soon](index.md#news-and-notes).</span></span>

<span data-ttu-id="3e41a-106">Windows 10 では、没入型および holographic ヘッドセットのサポートは直接含まれています。</span><span class="sxs-lookup"><span data-stu-id="3e41a-106">Windows 10 includes support for immersive and holographic headsets directly.</span></span> <span data-ttu-id="3e41a-107">オペレーティング システムのプラットフォーム API の上に存在するライブラリに依存関係を持つこれらのコンテンツを Oculus Rift や HTC Vive などの別のデバイスをビルドした場合。</span><span class="sxs-lookup"><span data-stu-id="3e41a-107">If you have built content for another device such as the Oculus Rift or HTC Vive, these have dependencies on libraries that exist above the operating system's platform API.</span></span> <span data-ttu-id="3e41a-108">Windows Mixed Reality を経由で既存のコンテンツを使えるようにするには、Windows Api にその他のこれらの Sdk の使用状況の再ターゲットする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-108">Bringing existing content over to Windows Mixed Reality involves retargeting usage of these other SDKs to the Windows APIs.</span></span> <span data-ttu-id="3e41a-109">[複合現実の Windows プラットフォーム Api](https://docs.microsoft.com/uwp/api/Windows.Perception)ユニバーサル Windows プラットフォーム (UWP) アプリ モデルでのみ動作します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-109">The [Windows platform APIs for mixed reality](https://docs.microsoft.com/uwp/api/Windows.Perception) only work in the Universal Windows Platform (UWP) app model.</span></span> <span data-ttu-id="3e41a-110">したがって移植エクスペリエンスの一部が場合は、アプリは UWP の既には構築されずからになります UWP に移植します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-110">So if your app is not already built for UWP, porting to UWP will be part of the porting experience.</span></span>

## <a name="porting-overview"></a><span data-ttu-id="3e41a-111">移植の概要</span><span class="sxs-lookup"><span data-stu-id="3e41a-111">Porting overview</span></span>

<span data-ttu-id="3e41a-112">大まかに、これらは既存のコンテンツを移植するための手順です。</span><span class="sxs-lookup"><span data-stu-id="3e41a-112">At a high-level, these are the steps involved in porting existing content:</span></span>
1. <span data-ttu-id="3e41a-113">**お使いの PC には、Windows 10 Fall Creators Update (16299) が実行されていることを確認します。**</span><span class="sxs-lookup"><span data-stu-id="3e41a-113">**Make sure your PC is running the Windows 10 Fall Creators Update (16299).**</span></span> <span data-ttu-id="3e41a-114">推奨されなく Insider スキップ先リングからビルドのプレビューを受け取るようにそれらのビルドを複合現実の開発で最も安定したことはできません。</span><span class="sxs-lookup"><span data-stu-id="3e41a-114">We no longer recommend receiving preview builds from the Insider Skip Ahead ring, as those builds won't be the most stable for mixed reality development.</span></span>
2. <span data-ttu-id="3e41a-115">**グラフィックスやゲーム エンジンの最新バージョンにアップグレードします。**</span><span class="sxs-lookup"><span data-stu-id="3e41a-115">**Upgrade to the latest version of your graphics or game engine.**</span></span> <span data-ttu-id="3e41a-116">ゲーム エンジンは、Windows 10 SDK バージョン 10.0.15063.0 (2017 年 4 月リリース) をサポートする必要がありますまたはそれ以降。</span><span class="sxs-lookup"><span data-stu-id="3e41a-116">Game engines will need to support the Windows 10 SDK version 10.0.15063.0 (released in April 2017) or higher.</span></span>
3. <span data-ttu-id="3e41a-117">**すべてのミドルウェア、プラグインまたはコンポーネントをアップグレードします。**</span><span class="sxs-lookup"><span data-stu-id="3e41a-117">**Upgrade any middleware, plug-ins or components.**</span></span> <span data-ttu-id="3e41a-118">アプリに任意のコンポーネントが含まれている場合は、最新バージョンにアップグレードすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-118">If your app contains any components, it's a good idea to upgrade to the latest version.</span></span> <span data-ttu-id="3e41a-119">最も一般的なプラグインの新しいバージョンでは、UWP のサポートがあります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-119">Newer versions of most common plug-ins have support for UWP.</span></span>
4. <span data-ttu-id="3e41a-120">**重複する Sdk の依存関係を削除**します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-120">**Remove dependencies on duplicate SDKs**.</span></span> <span data-ttu-id="3e41a-121">コンテンツの対象デバイス、によっては、削除するか、その SDK (例: SteamVR) を条件付きでコンパイルする必要がありますので、Windows Api を代わりに対象にできます。</span><span class="sxs-lookup"><span data-stu-id="3e41a-121">Depending on which device your content was targeting, you'll need to remove or conditionally compile out that SDK (e.g. SteamVR) so you can target the Windows APIs instead.</span></span>
5. <span data-ttu-id="3e41a-122">**ビルドの問題に取り組みます。**</span><span class="sxs-lookup"><span data-stu-id="3e41a-122">**Work through build issues.**</span></span> <span data-ttu-id="3e41a-123">この時点では、移植の演習では、アプリ、エンジン、およびコンポーネントの依存関係がある場合に固有です。</span><span class="sxs-lookup"><span data-stu-id="3e41a-123">At this point, the porting exercise is specific to your app, your engine, and the component dependencies you have.</span></span>

## <a name="common-porting-steps"></a><span data-ttu-id="3e41a-124">移植の一般的な手順</span><span class="sxs-lookup"><span data-stu-id="3e41a-124">Common porting steps</span></span>

### <a name="common-step-1-make-sure-you-have-the-right-development-hardware"></a><span data-ttu-id="3e41a-125">一般的な手順 1:適切な開発のハードウェアがあるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-125">Common step 1: Make sure you have the right development hardware</span></span>

<span data-ttu-id="3e41a-126">[ツールをインストールする](install-the-tools.md#for-immersive-vr-headset-development)ページは、開発の推奨されるハードウェアを一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="3e41a-126">The [install the tools](install-the-tools.md#for-immersive-vr-headset-development) page lists the recommended development hardware.</span></span>

### <a name="common-step-2-upgrade-to-the-latest-flight-of-windows-10"></a><span data-ttu-id="3e41a-127">一般的な手順 2:Windows 10 の最新のフライトへのアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-127">Common step 2: Upgrade to the latest flight of Windows 10</span></span>

<span data-ttu-id="3e41a-128">Windows Mixed Reality プラットフォームは、まだアクティブの開発中に最も効果的なは、ためお勧めします"Windows Insider Fast"フライト中します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-128">The Windows Mixed Reality platform is still under active development, and to be most effective, we recommend being on the "Windows Insider Fast" flight.</span></span> <span data-ttu-id="3e41a-129">Windows のフライトへのアクセスを確保するためにする必要があります[Windows Insider Program に参加](https://insider.windows.com/)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-129">In order to have access to windows flights, you will need to [join the Windows Insider Program](https://insider.windows.com/).</span></span>
1. <span data-ttu-id="3e41a-130">インストール、 [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span><span class="sxs-lookup"><span data-stu-id="3e41a-130">Install the [Windows 10 Creators Update](https://www.microsoft.com/software-download/windows10)</span></span>
2. <span data-ttu-id="3e41a-131">[参加](https://insider.windows.com/)Windows Insider プログラム。</span><span class="sxs-lookup"><span data-stu-id="3e41a-131">[Join](https://insider.windows.com/) the Windows Insider Program.</span></span>
3. <span data-ttu-id="3e41a-132">有効にする[開発者モード](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span><span class="sxs-lookup"><span data-stu-id="3e41a-132">Enable [Developer Mode](https://docs.microsoft.com/windows/uwp/get-started/enable-your-device-for-development)</span></span>
4. <span data-ttu-id="3e41a-133">切り替えて、 [Windows Insider Fast フライト](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview)設定を使用して、更新プログラムとセキュリティ セクション--></span><span class="sxs-lookup"><span data-stu-id="3e41a-133">Switch to the [Windows Insider Fast flights](https://blogs.technet.microsoft.com/uktechnet/2016/07/01/joining-insider-preview) through Settings --> Update & Security Section</span></span>

### <a name="common-step-3-upgrade-to-the-most-recent-build-of-visual-studio"></a><span data-ttu-id="3e41a-134">一般的な手順 3:Visual Studio の最新のビルドにアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-134">Common step 3: Upgrade to the most recent build of Visual Studio</span></span>
* <span data-ttu-id="3e41a-135">参照してください[ツールをインストールする](install-the-tools.md#installation-checklist)] ページ [Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="3e41a-135">Please see [Install the tools](install-the-tools.md#installation-checklist) page under Visual Studio 2017</span></span>

### <a name="common-step-4-be-ready-for-the-store"></a><span data-ttu-id="3e41a-136">一般的な手順 4:ストアの準備が完了します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-136">Common step 4: Be Ready for The Store</span></span>
* <span data-ttu-id="3e41a-137">使用[Windows アプリ認定キット](https://developer.microsoft.com/windows/develop/app-certification-kit)(WACK とも呼ばれます) 早い段階で多くの場合。</span><span class="sxs-lookup"><span data-stu-id="3e41a-137">Use [Windows App Certification Kit](https://developer.microsoft.com/windows/develop/app-certification-kit) (aka WACK) early and often!</span></span>
* <span data-ttu-id="3e41a-138">使用[Portability Analyzer](https://docs.microsoft.com/dotnet/standard/portability-analyzer) ([ダウンロード](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer))</span><span class="sxs-lookup"><span data-stu-id="3e41a-138">Use [Portability Analyzer](https://docs.microsoft.com/dotnet/standard/portability-analyzer) ([Download](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer))</span></span>

### <a name="common-step-5-choose-the-correct-adapter"></a><span data-ttu-id="3e41a-139">一般的な手順 5:正しいアダプターを選択します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-139">Common step 5: Choose the correct Adapter</span></span>
* <span data-ttu-id="3e41a-140">2 つの Gpu と notebook のようなシステムで[正しいアダプターを対象](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-140">In systems like notebooks with two GPUs, [target the correct adapter](rendering-in-directx.md#hybrid-graphics-pcs-and-mixed-reality-applications).</span></span> <span data-ttu-id="3e41a-141">これに適用されます、Unity アプリをさらに、ID3D11Device が作成される場所明示的または暗黙的にネイティブの DirectX アプリ (Media Foundation)、その機能。</span><span class="sxs-lookup"><span data-stu-id="3e41a-141">This applies to Unity apps, in addition to native DirectX apps, where a ID3D11Device is created, either explicitly or implicitly (Media Foundation), for its functionality.</span></span>

## <a name="unity-porting-guidance"></a><span data-ttu-id="3e41a-142">Unity の移植のガイダンス</span><span class="sxs-lookup"><span data-stu-id="3e41a-142">Unity porting guidance</span></span>

### <a name="unity-step-1-follow-the-common-porting-steps"></a><span data-ttu-id="3e41a-143">Unity の手順 1:一般的な移植の手順に従います</span><span class="sxs-lookup"><span data-stu-id="3e41a-143">Unity step 1: Follow the common porting steps</span></span>

<span data-ttu-id="3e41a-144">すべての一般的な手順に従います。</span><span class="sxs-lookup"><span data-stu-id="3e41a-144">Follow all of the common steps.</span></span> <span data-ttu-id="3e41a-145">手順 3 で選択、 **Unity によるゲーム開発の**ワークロード。</span><span class="sxs-lookup"><span data-stu-id="3e41a-145">When in step #3, select the **Game Development with Unity** workload.</span></span> <span data-ttu-id="3e41a-146">以下の手順から Unity の新しいバージョンをインストールするしますので、Unity エディターのオプション コンポーネントの選択を解除することがあります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-146">You may deselect the Unity Editor optional component since you'll be installing a newer version of Unity from the instructions below.</span></span>

### <a name="unity-step-2-upgrade-to-the-latest-public-build-of-unity-with-windows-mr-support"></a><span data-ttu-id="3e41a-147">Unity の手順 2:Windows MR サポートと Unity の最新のパブリック ビルドへのアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-147">Unity step 2: Upgrade to the latest public build of Unity with Windows MR Support</span></span>
1. <span data-ttu-id="3e41a-148">最新バージョンをダウンロード[Unity のパブリック ビルドの推奨](install-the-tools.md)複合現実をサポートします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-148">Download the latest [recommended public build of Unity](install-the-tools.md) with mixed reality support.</span></span>
2. <span data-ttu-id="3e41a-149">開始する前に、プロジェクトのコピーを保存します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-149">Save a copy of your project before you get started</span></span>
3. <span data-ttu-id="3e41a-150">レビュー、[ドキュメント](https://docs.unity3d.com/Manual/UpgradeGuides.html)移植の Unity から入手できます。</span><span class="sxs-lookup"><span data-stu-id="3e41a-150">Review the [documentation](https://docs.unity3d.com/Manual/UpgradeGuides.html) available from Unity on porting.</span></span>
4. <span data-ttu-id="3e41a-151">に従って、[指示](https://docs.unity3d.com/Manual/APIUpdater.html)自動の API の更新ツールを使用するための Unity のサイト</span><span class="sxs-lookup"><span data-stu-id="3e41a-151">Follow the [instructions](https://docs.unity3d.com/Manual/APIUpdater.html) on Unity's site for using their automatic API updater</span></span>
5. <span data-ttu-id="3e41a-152">確認しを実行しているプロジェクトを取得するために必要な追加の変更があるかどうかを参照してください、残りエラーと警告を使用します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-152">Check and see if there are additional changes that you need to make to get your project running, and work through any remaining errors and warnings.</span></span> <span data-ttu-id="3e41a-153">注:依存するミドルウェアをした場合は、(下の手順 3 で他の詳細) を開始するには、そのミドルウェアを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-153">Note: If you have middleware that you depend on, you may need to update that middleware to get going (more details in step 3 below).</span></span>

### <a name="unity-step-3-upgrade-your-middleware-to-the-latest-versions"></a><span data-ttu-id="3e41a-154">Unity の手順 3:ミドルウェアを最新バージョンにアップグレードします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-154">Unity step 3: Upgrade your middleware to the latest versions</span></span>

<span data-ttu-id="3e41a-155">更新では、Unity、ゲームまたはアプリケーションが依存している 1 つまたは複数のミドルウェア パッケージを更新する必要がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-155">With any Unity update, there is a good chance that you need to update one or more middleware packages that your game or application depends on.</span></span> <span data-ttu-id="3e41a-156">さらに、すべてのミドルウェアの最新バージョンで、移植プロセスの残りの部分で成功する可能性が向上します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-156">Additionally, being on the latest version of all of your middleware will increase your likelihood of success throughout the rest of the porting process.</span></span> <span data-ttu-id="3e41a-157">多くのミドルウェア パッケージは、ユニバーサル Windows プラットフォーム (UWP) のサポートを最近追加したし、最新のバージョンにアップグレードすると、その作業を活用することです。</span><span class="sxs-lookup"><span data-stu-id="3e41a-157">Many middleware packages have recently added support for Universal Windows Platform (UWP), and upgrading to the most recent versions will let you leverage that work.</span></span>

### <a name="unity-step-4-target-your-application-to-run-on-universal-windows-platform-uwp"></a><span data-ttu-id="3e41a-158">Unity の手順 4:対象とするユニバーサル Windows プラットフォーム (UWP) でを実行するアプリケーション</span><span class="sxs-lookup"><span data-stu-id="3e41a-158">Unity step 4: Target your application to run on Universal Windows Platform (UWP)</span></span>

<span data-ttu-id="3e41a-159">ツールをインストールした後は、アプリをユニバーサル Windows アプリとして実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-159">After installing the tools, you need to get your app running as a Universal Windows app.</span></span>
* <span data-ttu-id="3e41a-160">に従って、[詳しいステップ バイ ステップ チュートリアル](https://unity3d.com/partners/microsoft/porting-guides)Unity によって提供されます。</span><span class="sxs-lookup"><span data-stu-id="3e41a-160">Follow the [detailed step by step walk through](https://unity3d.com/partners/microsoft/porting-guides) provided by Unity.</span></span> <span data-ttu-id="3e41a-161">最新 LTS リリース (20xx.4 のリリース) の Windows MR で維持する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="3e41a-161">Please note that you should stay on the latest LTS release (any 20xx.4 release) for Windows MR.</span></span>
* <span data-ttu-id="3e41a-162">その他の UWP 開発リソースを参照してください、 [Windows 10 ゲームの開発ガイド](https://docs.microsoft.com/windows/uwp/gaming/e2e)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-162">For more UWP development resources, take a look at the [Windows 10 game development guide](https://docs.microsoft.com/windows/uwp/gaming/e2e).</span></span>
* <span data-ttu-id="3e41a-163">Unity の il2cpp バック エンドのサポートを強化し続けていることに注意してください。Il2cpp バック エンドは、いくつかの UWP ポート大幅に簡素化します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-163">Please note that Unity continues to improve IL2CPP support; IL2CPP makes some UWP ports significantly easier.</span></span> <span data-ttu-id="3e41a-164">場合は、.Net バックエンドのスクリプトを対象としている現在、代わりに、il2cpp バック エンドのバックエンドを利用する変換を検討してください。</span><span class="sxs-lookup"><span data-stu-id="3e41a-164">If you are currently targeting the .Net scripting backend, you should consider converting to leverage the IL2CPP backend instead.</span></span>

<span data-ttu-id="3e41a-165">注:アプリケーションにすべての依存関係がある場合は、ストリームから一致などの特定のサービス、デバイスでは、この手順で無効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-165">Note: If your application has any dependencies on device specific services, such as match making from Steam, you will need to disable them at this step.</span></span> <span data-ttu-id="3e41a-166">後では、Windows が提供する同等のサービスにフックすることができます。</span><span class="sxs-lookup"><span data-stu-id="3e41a-166">At a later time, you can hook up to the equivalent services that Windows provides.</span></span>

### <a name="unity-step-5-deprecated"></a><span data-ttu-id="3e41a-167">Unity の手順 5:(非推奨)</span><span class="sxs-lookup"><span data-stu-id="3e41a-167">Unity step 5: (Deprecated)</span></span>

<span data-ttu-id="3e41a-168">手順 5 では、必要なくなりました。</span><span class="sxs-lookup"><span data-stu-id="3e41a-168">Step 5 is no longer required.</span></span> <span data-ttu-id="3e41a-169">私たち離職する人が、ここでは同じ手順のインデックスを作成できるようにします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-169">We are leaving it here so that the indexing of steps remains the same.</span></span>

### <a name="unity-step-6-get-your-windows-mixed-reality-hardware-set-up"></a><span data-ttu-id="3e41a-170">Unity の手順 6:Windows Mixed Reality ハードウェア設定の取得します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-170">Unity step 6: Get your Windows Mixed Reality hardware set up</span></span>
1. <span data-ttu-id="3e41a-171">確認手順[イマーシブ ヘッドセットのセットアップ](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span><span class="sxs-lookup"><span data-stu-id="3e41a-171">Review steps in [Immersive headset setup](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/before-you-start
)</span></span>
2. <span data-ttu-id="3e41a-172">について[Windows Mixed Reality シミュレーターを使用して](using-the-windows-mixed-reality-simulator.md)と[Windows Mixed Reality ホームに移動します。](navigating-the-windows-mixed-reality-home.md)</span><span class="sxs-lookup"><span data-stu-id="3e41a-172">Learn about [Using the Windows Mixed Reality simulator](using-the-windows-mixed-reality-simulator.md) and [Navigating the Windows Mixed Reality home](navigating-the-windows-mixed-reality-home.md)</span></span>

### <a name="unity-step-7-target-your-application-to-run-on-windows-mixed-reality"></a><span data-ttu-id="3e41a-173">Unity の手順 7:対象とするアプリケーションを Windows Mixed Reality を実行するには</span><span class="sxs-lookup"><span data-stu-id="3e41a-173">Unity step 7: Target your application to run on Windows Mixed Reality</span></span>
1. <span data-ttu-id="3e41a-174">最初に、削除するか、特定 VR SDK ライブラリ サポートを条件付きでコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-174">First, you must remove or conditionally compile out any other library support specific to a particular VR SDK.</span></span> <span data-ttu-id="3e41a-175">これらの資産は、設定と Windows Mixed Reality などの他の VR Sdk と互換性のない方法で、プロジェクトのプロパティを頻繁に変更します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-175">Those assets frequently change settings and properties on your project in ways that are incompatible with other VR SDKs, such as Windows Mixed Reality.</span></span>
    * <span data-ttu-id="3e41a-176">たとえば、SteamVR SDK をプロジェクトに参照する場合、Windows ストアのビルド ターゲットをエクスポートするときに、それらのプレハブとスクリプト API の呼び出しを除外するプロジェクトを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-176">For example, if your project references the SteamVR SDK, you will need to update your project to exclude those prefabs and script API calls when exporting for the Windows Store build target.</span></span>
    * <span data-ttu-id="3e41a-177">その他の VR Sdk を条件付きで除外するための特定の手順は近日公開予定。</span><span class="sxs-lookup"><span data-stu-id="3e41a-177">Specific steps for conditionally excluding other VR SDKs is coming soon.</span></span>
2. <span data-ttu-id="3e41a-178">Unity プロジェクトで、[対象 Windows 10 SDK](holograms-100.md#target-windows-10-sdk)</span><span class="sxs-lookup"><span data-stu-id="3e41a-178">In your Unity project, [target the Windows 10 SDK](holograms-100.md#target-windows-10-sdk)</span></span>
3. <span data-ttu-id="3e41a-179">各シーンの[カメラのセットアップ](holograms-100.md#chapter-2---setup-the-camera)</span><span class="sxs-lookup"><span data-stu-id="3e41a-179">For each scene, [setup the camera](holograms-100.md#chapter-2---setup-the-camera)</span></span>

### <a name="unity-step-8-use-the-stage-to-place-content-on-the-floor"></a><span data-ttu-id="3e41a-180">Unity の手順 8:ステージを使用して、床の上のコンテンツを配置するには</span><span class="sxs-lookup"><span data-stu-id="3e41a-180">Unity step 8: Use the stage to place content on the floor</span></span>

<span data-ttu-id="3e41a-181">複合現実エクスペリエンスをビルドするには幅広いの[スケールが発生する](coordinate-systems.md)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-181">You can build Mixed Reality experiences across a wide range of [experience scales](coordinate-systems.md).</span></span>

<span data-ttu-id="3e41a-182">移植する場合、**取り付けられているスケールのエクスペリエンス**、Unity に設定されていることを確認する必要があります、**静止**領域の種類の追跡。</span><span class="sxs-lookup"><span data-stu-id="3e41a-182">If you're porting a **seated-scale experience**, you must ensure Unity is set to the **Stationary** tracking space type:</span></span>

```cs
XRDevice.SetTrackingSpaceType(TrackingSpaceType.Stationary);
```

<span data-ttu-id="3e41a-183">追跡するために Unity のワールド座標系を設定、[フレームの静止した基準](coordinate-systems.md#spatial-coordinate-systems)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-183">This sets Unity's world coordinate system to track the [stationary frame of reference](coordinate-systems.md#spatial-coordinate-systems).</span></span> <span data-ttu-id="3e41a-184">カメラの既定の場所の前に、エディターで、静止した追跡モードでコンテンツが配置されます (フォワードは ~ Z)、アプリの起動時にも、ユーザーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="3e41a-184">In the Stationary tracking mode, content placed in the editor just in front of the camera's default location (forward is -Z) will appear in front of the user when the app launches.</span></span> <span data-ttu-id="3e41a-185">配信元が、ユーザーを戻します取り付けられて、Unity の呼び出すことができます[XR します。InputTracking.Recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html)メソッド。</span><span class="sxs-lookup"><span data-stu-id="3e41a-185">To recenter the user's seated origin, you can call Unity's [XR.InputTracking.Recenter](https://docs.unity3d.com/ScriptReference/XR.InputTracking.Recenter.html) method.</span></span>

<span data-ttu-id="3e41a-186">移植する場合、**継続スケール エクスペリエンス**または**ルーム スケール エクスペリエンス**コンテンツ、フロアの基準とした配置します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-186">If you're porting a **standing-scale experience** or **room-scale experience**, you'll be placing content relative to the floor.</span></span> <span data-ttu-id="3e41a-187">ユーザーの理解を使用して floor、 **[空間ステージ](coordinate-systems.md#spatial-coordinate-systems)**、現場レベルの配信元と省略可能な領域の境界を表す、ユーザーの定義、初回実行時に設定します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-187">You reason about the user's floor using the **[spatial stage](coordinate-systems.md#spatial-coordinate-systems)**, which represents the user's defined floor-level origin and optional room boundary, set up during first run.</span></span> <span data-ttu-id="3e41a-188">これらのエクスペリエンス向けに設定されている Unity を確認する必要があります、 **RoomScale**領域の種類を追跡します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-188">For these experiences, you must ensure Unity is set to the **RoomScale** tracking space type.</span></span> <span data-ttu-id="3e41a-189">RoomScale 既定では、中に明示的に設定し、ユーザーが調整、部屋から自分のコンピューターを移動が、状況をキャッチする true に戻すを取得することを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-189">While RoomScale is the default, you'll want to set it explicitly and ensure you get back true, to catch situations where the user has moved their computer away from the room they calibrated:</span></span>

```cs
if (XRDevice.SetTrackingSpaceType(TrackingSpaceType.RoomScale))
{
    // RoomScale mode was set successfully.  App can now assume that y=0 in Unity world coordinate represents the floor.
}
else
{
    // RoomScale mode was not set successfully.  App cannot make assumptions about where the floor plane is.
}
```

<span data-ttu-id="3e41a-190">アプリが正常に RoomScale の空間型で、y に、コンテンツの追跡を設定すると、0、床の上にプレーンが表示されますを = です。</span><span class="sxs-lookup"><span data-stu-id="3e41a-190">Once your app successfully sets the RoomScale tracking space type, content placed on the y=0 plane will appear on the floor.</span></span> <span data-ttu-id="3e41a-191">原点 (0, 0, 0) は、特定の場所 - セットアップ時に直面していましたが、順方向を表す Z で部屋のセットアップ中に、ユーザー縦位置、床の上になります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-191">The origin at (0, 0, 0) will be the specific place on the floor where the user stood during room setup, with -Z representing the forward direction they were facing during setup.</span></span>

<span data-ttu-id="3e41a-192">スクリプトのコードでできますを TryGetGeometry メソッドを呼び出している、境界の多角形を取得する UnityEngine.Experimental.XR.Boundary 型 TrackedArea の境界の種類を指定します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-192">In script code, you can then call the TryGetGeometry method on your the UnityEngine.Experimental.XR.Boundary type to get a boundary polygon, specifying a boundary type of TrackedArea.</span></span> <span data-ttu-id="3e41a-193">ユーザーに (戻る頂点のリスト) の境界が定義されている場合、配信するには、安全ではわかって、**ルーム スケール エクスペリエンス**をユーザーに場所がシーンを中心ご説明を作成します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-193">If the user defined a boundary (you get back a list of vertices), you know it is safe to deliver a **room-scale experience** to the user, where they can walk around the scene you create.</span></span>

<span data-ttu-id="3e41a-194">エントリのユーザーがそれに近づくと、システムは境界がレンダリングに自動的に注意してください。</span><span class="sxs-lookup"><span data-stu-id="3e41a-194">Note that the system will automatically render the boundary when the user approaches it.</span></span> <span data-ttu-id="3e41a-195">アプリは、それ自体の境界を表示するためにこの多角形を使用する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="3e41a-195">Your app does not need to use this polygon to render the boundary itself.</span></span>

<span data-ttu-id="3e41a-196">詳細については、次を参照してください。、 [Unity の座標系](coordinate-systems-in-unity.md)ページ。</span><span class="sxs-lookup"><span data-stu-id="3e41a-196">For more details, see the [Coordinate systems in Unity](coordinate-systems-in-unity.md) page.</span></span>

<span data-ttu-id="3e41a-197">一部のアプリケーションでは、その相関関係を制限するのに四角形を使用します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-197">Some applications use a rectangle to constrain their interaction.</span></span> <span data-ttu-id="3e41a-198">囲む四角形の最大の取得は直接サポートされていません、UWP API または Unity でします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-198">Retrieving the largest inscribed rectangle is not directly supported in the UWP API or Unity.</span></span> <span data-ttu-id="3e41a-199">コード例下記のリンクを示しますトレースの境界内の四角形を検索する方法。</span><span class="sxs-lookup"><span data-stu-id="3e41a-199">The example code linked to below shows how to find a rectangle within the traced bounds.</span></span> <span data-ttu-id="3e41a-200">ただし、結果が期待と一貫性のある一般的には、ヒューリスティックに基づいている最適なソリューションが見つからないことがあるためにです。</span><span class="sxs-lookup"><span data-stu-id="3e41a-200">It is heuristic based so may not find the optimal solution, however, results are generally consistent with expectations.</span></span> <span data-ttu-id="3e41a-201">アルゴリズムのパラメーターを調整することで、処理時間がより正確な結果を検索します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-201">Parameters in the algorithm can be tuned to find more precise results at the cost of processing time.</span></span> <span data-ttu-id="3e41a-202">アルゴリズムは、MRTP バージョンの Unity 5.6 のプレビューを使用する混在現実ツールキットのフォークでは。</span><span class="sxs-lookup"><span data-stu-id="3e41a-202">The algorithm is in a fork of the Mixed Reality Toolkit that uses the 5.6 preview MRTP version of Unity.</span></span> <span data-ttu-id="3e41a-203">これは、市販されていません。</span><span class="sxs-lookup"><span data-stu-id="3e41a-203">This is not publically available.</span></span> <span data-ttu-id="3e41a-204">コードは、2017.2 以降のバージョンの Unity で直接使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-204">The code should be directly usable in 2017.2 and higher versions of Unity.</span></span> <span data-ttu-id="3e41a-205">コードは、近い将来に現在 MRTK に移植されます。</span><span class="sxs-lookup"><span data-stu-id="3e41a-205">The code will be ported to the current MRTK in the near future.</span></span>

<span data-ttu-id="3e41a-206">[GitHub でコードの zip ファイル](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20)重要なファイル。</span><span class="sxs-lookup"><span data-stu-id="3e41a-206">[zip file of code on GitHub](https://github.com/KevinKennedy/MixedRealityToolkit-Unity/releases/tag/5.6.MRTP20) Important files:</span></span>
* <span data-ttu-id="3e41a-207">Assets/HoloToolkit/Stage/Scripts/StageManager.cs - 使用方法の例</span><span class="sxs-lookup"><span data-stu-id="3e41a-207">Assets/HoloToolkit/Stage/Scripts/StageManager.cs - example of usage</span></span>
* <span data-ttu-id="3e41a-208">Assets/HoloToolkit/Stage/Scripts/LargestRectangle.cs - アルゴリズムの実装</span><span class="sxs-lookup"><span data-stu-id="3e41a-208">Assets/HoloToolkit/Stage/Scripts/LargestRectangle.cs - implementation of the algorithm</span></span>
* <span data-ttu-id="3e41a-209">Assets/HoloToolkit-UnitTests/Editor/Stage/LargestRectangleTest.cs - アルゴリズムの単純なテスト</span><span class="sxs-lookup"><span data-stu-id="3e41a-209">Assets/HoloToolkit-UnitTests/Editor/Stage/LargestRectangleTest.cs - trivial test of the algorithm</span></span>

<span data-ttu-id="3e41a-210">結果の例:</span><span class="sxs-lookup"><span data-stu-id="3e41a-210">Example of results:</span></span>

![結果の例](images/largestrectangle-400px.jpg)

<span data-ttu-id="3e41a-212">アルゴリズムは、Daniel Smilkov でブログに基づいています。[最も大きな四角形を多角形](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span><span class="sxs-lookup"><span data-stu-id="3e41a-212">Algorithm is based on a blog by Daniel Smilkov: [Largest rectangle in a polygon](https://d3plus.org/blog/behind-the-scenes/2014/07/08/largest-rect/)</span></span>

### <a name="unity-step-9-work-through-your-input-model"></a><span data-ttu-id="3e41a-213">Unity の手順 9:入力モデルを使用します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-213">Unity step 9: Work through your input model</span></span>

<span data-ttu-id="3e41a-214">各ゲームや既存のッドマウントを対象とするアプリケーションは、一連の動作は、必要な入力とこれらの入力を取得するために呼び出す特定の Api の種類は、処理する入力のがあります。</span><span class="sxs-lookup"><span data-stu-id="3e41a-214">Each game or application targeting an existing HMD will have a set of inputs that it handles, types of inputs that it needs for the experience, and specific APIs that it calls to get those inputs.</span></span> <span data-ttu-id="3e41a-215">Windows Mixed Reality で使用可能な入力を活用するためにできる限り単純さにしようとでの投資を行いました。</span><span class="sxs-lookup"><span data-stu-id="3e41a-215">We have invested in trying to make it as simple and straightforward as possible to take advantage of the inputs available in Windows Mixed Reality.</span></span>
1. <span data-ttu-id="3e41a-216">目を通してください、 **[移植 for Unity ガイド入力](input-porting-guide-for-unity.md)** Windows Mixed Reality 方法の詳細については、入力が公開して、今すぐ行うことができます、どのようなアプリケーションにマップされる方法です。</span><span class="sxs-lookup"><span data-stu-id="3e41a-216">Read through the **[Input porting guide for Unity](input-porting-guide-for-unity.md)** for details of how Windows Mixed Reality exposes input, and how that maps to what your application may do today.</span></span>
2. <span data-ttu-id="3e41a-217">Unity のクロス-VR-SDK 入力 API を活用しようとするまたは、MR 固有 API を入力するかどうかを選択します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-217">Choose whether you are going to leverage Unity's cross-VR-SDK input API, or the MR-specific input API.</span></span> <span data-ttu-id="3e41a-218">今日の Unity VR アプリで使用する一般的な Input.GetButton/Input.GetAxis Api [Oculus 入力](https://docs.unity3d.com/Manual/OculusControllers.html)と[OpenVR 入力](https://docs.unity3d.com/Manual/OpenVRControllers.html)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-218">The general Input.GetButton/Input.GetAxis APIs are used by Unity VR apps today for [Oculus input](https://docs.unity3d.com/Manual/OculusControllers.html) and [OpenVR input](https://docs.unity3d.com/Manual/OpenVRControllers.html).</span></span> <span data-ttu-id="3e41a-219">既にアプリがモーションのコント ローラーのこれらの Api を使用して、これは、最も簡単なパスにボタンと Input Manager での軸を再マップする必要があるだけです。</span><span class="sxs-lookup"><span data-stu-id="3e41a-219">If your apps are already using these APIs for motion controllers, this is the easiest path - you should just need to remap buttons and axes in the Input Manager.</span></span>
    * <span data-ttu-id="3e41a-220">いずれかの一般的なクロス-VR-SDK Input.GetButton/Input.GetAxis Api または MR 固有の UnityEngine.XR.WSA.Input Api を使用して Unity でのモーション コント ローラーのデータにアクセスすることができます。</span><span class="sxs-lookup"><span data-stu-id="3e41a-220">You can access motion controller data in Unity using either the general cross-VR-SDK Input.GetButton/Input.GetAxis APIs or the MR-specific UnityEngine.XR.WSA.Input APIs.</span></span> <span data-ttu-id="3e41a-221">(以前の Unity 5.6 で UnityEngine.XR.WSA.Input 名前空間)</span><span class="sxs-lookup"><span data-stu-id="3e41a-221">(previously in the UnityEngine.XR.WSA.Input namespace in Unity 5.6)</span></span>
    * <span data-ttu-id="3e41a-222">参照してください、 [toolkit の使用例](https://github.com/Microsoft/HoloToolkit-Unity/pull/572)ゲームパッド、モーションのコント ローラーを結合します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-222">See the [example in Toolkit](https://github.com/Microsoft/HoloToolkit-Unity/pull/572) that combines gamepad and motion controllers.</span></span>

### <a name="unity-step-10-performance-testing-and-tuning"></a><span data-ttu-id="3e41a-223">Unity 手順 10:パフォーマンス テストとチューニング</span><span class="sxs-lookup"><span data-stu-id="3e41a-223">Unity step 10: Performance testing and tuning</span></span>

<span data-ttu-id="3e41a-224">Windows Mixed Reality はデバイスの広範なクラスで使用できる、高の範囲 Pc のゲームを終了、広範な市場に Pc をメイン ストリームします。</span><span class="sxs-lookup"><span data-stu-id="3e41a-224">Windows Mixed Reality will be available on a broad class of devices, ranging from high end gaming PCs, down to broad market mainstream PCs.</span></span> <span data-ttu-id="3e41a-225">どのような市場を対象としている、によって、アプリケーションの利用可能なコンピューティングおよびグラフィックスの予算に大きな違いは。</span><span class="sxs-lookup"><span data-stu-id="3e41a-225">Depending on what market you are targeting, there is a significant difference in the available compute and graphics budgets for your application.</span></span> <span data-ttu-id="3e41a-226">この移植の演習では、可能性が高い premium の PC を活用することをアプリに大きなコンピューティングおよびグラフィックス ・予算の利用があった。</span><span class="sxs-lookup"><span data-stu-id="3e41a-226">During this porting exercise, you are likely leveraging a premium PC, and have had significant compute and graphics budgets available to your app.</span></span> <span data-ttu-id="3e41a-227">テストし、でアプリをプロファイリングする必要がありますより広範な対象ユーザーにアプリを使用できるようにする場合は、[する代表的なハードウェア ターゲット](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-227">If you wish to make your app available to a broader audience, you should test and profile your app on [the representative hardware that you wish to target](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines).</span></span>

<span data-ttu-id="3e41a-228">両方[Unity](https://docs.unity3d.com/Manual/Profiler.html)と[Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index)パフォーマンス プロファイラーでは、両方は、 [Microsoft](understanding-performance-for-mixed-reality.md)と[Intel](https://software.intel.com/articles/vr-content-developer-guide)発行のガイドラインパフォーマンスのプロファイリングおよび最適化します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-228">Both [Unity](https://docs.unity3d.com/Manual/Profiler.html) and [Visual Studio](https://docs.microsoft.com/visualstudio/profiling/index) include performance profilers, and both [Microsoft](understanding-performance-for-mixed-reality.md) and [Intel](https://software.intel.com/articles/vr-content-developer-guide) publish guidelines on performance profiling and optimization.</span></span> <span data-ttu-id="3e41a-229">パフォーマンスの詳細については、[パフォーマンスと for Mixed Reality](understanding-performance-for-mixed-reality.md)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-229">There is an extensive discussion of performance available at [Understanding Performance for Mixed Reality](understanding-performance-for-mixed-reality.md).</span></span> <span data-ttu-id="3e41a-230">さらに、Unity の詳細データがある[for Unity のパフォーマンスに関する推奨事項](performance-recommendations-for-unity.md)します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-230">Further, there are specific details for Unity under [Performance Recommendations for Unity](performance-recommendations-for-unity.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="3e41a-231">関連項目</span><span class="sxs-lookup"><span data-stu-id="3e41a-231">See also</span></span>
* [<span data-ttu-id="3e41a-232">Unity のガイドの移植の入力</span><span class="sxs-lookup"><span data-stu-id="3e41a-232">Input porting guide for Unity</span></span>](input-porting-guide-for-unity.md)
* [<span data-ttu-id="3e41a-233">Windows Mixed Reality 最小 PC ハードウェアの互換性ガイドライン</span><span class="sxs-lookup"><span data-stu-id="3e41a-233">Windows Mixed Reality minimum PC hardware compatibility guidelines</span></span>](https://docs.microsoft.com/windows/mixed-reality/enthusiast-guide/windows-mixed-reality-minimum-pc-hardware-compatibility-guidelines)
* [<span data-ttu-id="3e41a-234">複合現実のパフォーマンスを理解</span><span class="sxs-lookup"><span data-stu-id="3e41a-234">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="3e41a-235">Unity のパフォーマンスに関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="3e41a-235">Performance Recommendations for Unity</span></span>](performance-recommendations-for-unity.md)
* [<span data-ttu-id="3e41a-236">UWP の Unity に Xbox Live のサポートを追加します。</span><span class="sxs-lookup"><span data-stu-id="3e41a-236">Add Xbox Live support to Unity for UWP</span></span>](https://docs.microsoft.com/windows/uwp/xbox-live/get-started-with-partner/partner-add-xbox-live-to-unity-uwp)

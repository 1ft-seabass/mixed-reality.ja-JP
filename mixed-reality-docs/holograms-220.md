---
title: MR 空間 220 - 空間のサウンド
description: サウンドの空間の概念の詳細については、Unity、Visual Studio は、HoloLens を使用してこのコーディング チュートリアルに従ってください。
author: keveleigh
ms.author: kurtie
ms.date: 03/21/2018
ms.topic: article
keywords: holotoolkit、mixedrealitytoolkit、mixedrealitytoolkit unity、academy、チュートリアル、サウンドの空間
ms.openlocfilehash: 50d17fe8c9a6e3f18b1309a59c9c41af982a7505
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/12/2019
ms.locfileid: "59599014"
---
>[!NOTE]
>Mixed Reality Academy チュートリアルでは、HoloLens として設計された (第 1 世代) と混在の現実イマーシブ ヘッドセットに注意してください。  そのため、これらのデバイス向けの開発にガイダンスがまだ必要な開発者のための場所でこれらのチュートリアルのままにすることが重要と思われます。  これらのチュートリアルは**_いない_** 最新のツールセットや相互作用が使用されている HoloLens 2 で更新されます。  サポートされているデバイスで作業を続行するが保持されます。 一連の新しい HoloLens 2 を開発する方法を示すチュートリアルは、今後投稿があります。  この通知が投稿されるときにこれらのチュートリアルへのリンクが更新されます。

<br>

# <a name="mr-spatial-220-spatial-sound"></a>MR 空間 220:立体音響

[空間サウンド](spatial-sound.md)ホログラムに人生を増し、世界でのプレゼンスを提供します。 ホログラムがのライトとサウンド の両方で構成され、ホログラムを出す場合は、空間のサウンドに役立つにあります。 空間のサウンドが、一般的なサウンドはラジオのように、3 D 空間に配置されたサウンドです。 空間のサウンドを行うことができますホログラム サウンドの横にある、または頭の中であっても、背後にあるようです。 このコースでは。

* Microsoft は、空間のサウンドを使用する開発環境を構成します。
* 相互作用を強化するために、サウンドの空間を使用します。
* 空間マッピングと共に空間のサウンドを使用します。
* サウンドのデザインやベスト プラクティスを理解します。
* 特殊効果を強化し、複合現実の世界にユーザーを表示するには、サウンドを使用します。

## <a name="device-support"></a>デバイスのサポート

<table>
<tr>
<th>コース</th><th style="width:150px"> <a href="hololens-hardware-details.md">HoloLens</a></th><th style="width:150px"> <a href="immersive-headset-hardware-details.md">イマーシブ ヘッドセット</a></th>
</tr><tr>
<td>MR 空間 220:立体音響</td><td style="text-align: center;"> ✔️</td><td style="text-align: center;"> ✔️</td>
</tr>
</table>

## <a name="before-you-start"></a>開始前の作業

### <a name="prerequisites"></a>前提条件

* 正しく構成されている Windows 10 PC[ツールがインストールされている](install-the-tools.md)します。
* 基本的なC#プログラミング機能。
* 完了する必要があります[MR 基本 101](holograms-101.md)します。
* HoloLens デバイス[開発用に構成された](using-visual-studio.md#enabling-developer-mode)します。

### <a name="project-files"></a>プロジェクト ファイル

* ダウンロード、[ファイル](https://github.com/Microsoft/HolographicAcademy/archive/Holograms-220-SpatialSound.zip)プロジェクトに必要です。 Unity 2017.2 またはそれ以降が必要です。
  * Unity 5.6 のサポートを引き続き必要がある場合を使用してください[このリリース](https://github.com/Microsoft/HolographicAcademy/archive/v1.5.6-220.zip)します。 このリリースは、最新の状態できなくなる可能性があります。
  * Unity 5.5 のサポートを引き続き必要がある場合を使用してください[このリリース](https://github.com/Microsoft/HolographicAcademy/archive/v1.5.5-220.zip)します。 このリリースは、最新の状態できなくなる可能性があります。
  * Unity 5.4 のサポートを引き続き必要がある場合を使用してください[このリリース](https://github.com/Microsoft/HolographicAcademy/archive/v1.5.4-220.zip)します。 このリリースは、最新の状態できなくなる可能性があります。
* 解除アーカイブをデスクトップまたは場所に到達する簡単なその他のファイル。

>[!NOTE]
>をダウンロードする前に、ソース コードを検索する場合がある[GitHub で入手できます](https://github.com/Microsoft/HolographicAcademy/tree/Holograms-220-SpatialSound)します。

### <a name="errata-and-notes"></a>正誤表と注意事項

* 「マイ コードのみを有効にする」無効にする必要があります (*unchecked*) -> ツールの Visual Studio でのオプションには、デバッグ、コードにブレークポイントをヒットするには-> です。

## <a name="chapter-1---unity-setup"></a>第 1 章 - Unity のセットアップ

### <a name="objectives"></a>目標

* Microsoft は、空間音を使って Unity のサウンドの構成を変更します。
* Unity 内のオブジェクトに 3D サウンドを追加します。

### <a name="instructions"></a>手順

* Unity を起動します。
* **[開く]** を選択します。
* 移動し、デスクトップと検索フォルダー アーカイブされた以前のします。
* をクリックして、 **Starting\Decibel**フォルダーを押してから、**フォルダーの選択**ボタンをクリックします。
* プロジェクトの Unity で読み込みを待機します。
*  **プロジェクト**パネル**Scenes\Decibel.unity**します。
* **階層**パネルで、展開**HologramCollection**選択**P0LY**します。
* 設定で、展開**AudioSource**があることを確認しない**Spatialize**チェック ボックスをオンします。

既定では、Unity では、立体音場プラグインは読み込まれません。 次の手順では、プロジェクトで空間サウンドを有効になります。

* Unity の上部のメニューに移動**編集 > プロジェクトの設定 > オーディオ**します。
* 検索、**立体音場プラグイン**ドロップダウンで、選択および**MS HRTF 立体音場**します。
* **階層**パネルで、 **HologramCollection > P0LY**します。
* **インスペクター**パネルで、検索、**オーディオ ソース**コンポーネント。
* チェック、 **Spatialize**チェック ボックスをオンします。
* ドラッグ、**空間 Blend**スライダーに至る**3D**、または入力**1**編集ボックス。

Unity でプロジェクトをビルドし、Visual Studio でソリューションを構成することはようになりました。

1. Unity では、次のように選択します。**ファイル > Build Settings**します。
2. をクリックして**開くシーンを追加**シーンを追加します。
3. 選択**ユニバーサル Windows プラットフォーム**で、**プラットフォーム**を一覧表示し、クリックして**スイッチ プラットフォーム**します。
4. 具体的には、HoloLens の開発中、設定**ターゲット デバイス**に**HoloLens**します。 それ以外の場合、残して**任意のデバイス**します。
5. 確認**ビルド タイプ**に設定されている**D3D**と**SDK**に設定されている**インストールされている最新**(16299 またはそれ以降の SDK がある必要があります)。
6. **[Build]** をクリックします。
7. 作成、**新しいフォルダー** "App"という名前です。
8. 1 回のクリック、**アプリ**フォルダー。
9. キーを押して**フォルダーを選択します**します。

Unity を完了すると、ファイル エクスプ ローラー ウィンドウが表示されます。

1. 開く、**アプリ**フォルダー。
2. 開く、**デシベル Visual Studio ソリューション**します。

HoloLens へのデプロイ: 場合

1. デバッグからターゲットを変更する Visual Studio で、上部のツールバーを使用して**リリース**を ARM から**x86**します。
2. ローカル コンピューター] ボタンの横の矢印のドロップダウンをクリックし、[**リモート マシン**します。
3. 入力**HoloLens デバイスの IP アドレス**認証モードを設定および**ユニバーサル (暗号化されていないプロトコル)** します。 クリックして**選択**します。 デバイスの IP アドレスがわからない場合に参照**設定 > ネットワークとインターネット > 詳細オプション**します。
4. 上部のメニュー バーで、クリックして**デバッグ]、[デバッグなしで開始**またはキーを押します**ctrl キーを押しながら f5 キーを押して**します。 最初に、デバイスに展開するには、する必要があります[Visual Studio をペアリング](using-visual-studio.md#pairing-your-device---hololens-1st-gen)します。

場合は、イマーシブ ヘッドセットへのデプロイ。

1. デバッグからターゲットを変更する Visual Studio で、上部のツールバーを使用して**リリース**を ARM から**x64**します。
2. 必ず、配置ターゲットに設定されて**ローカル マシン**します。
3. 上部のメニュー バーで、クリックして**デバッグ]、[デバッグなしで開始**またはキーを押します**ctrl キーを押しながら f5 キーを押して**します。

## <a name="chapter-2---spatial-sound-and-interaction"></a>第 2 章 – 空間のサウンドと相互作用

### <a name="objectives"></a>目標

* サウンドを使用してホログラム リアリティを強化します。
* サウンドを使用して、ユーザーの視線の先を指示します。
* サウンドを使用してジェスチャのフィードバックを提供します。

### <a name="part-1---enhancing-realism"></a>パート 1 - 強化よりリアル

#### <a name="key-concepts"></a>主要概念

* ホログラム サウンドを spatialize します。
* サウンドのソースは、ホログラム上の適切な場所に配置する必要があります。

サウンドの適切な場所が、ホログラムに依存するしようとしています。 たとえば、ホログラムが人間の場合は、ほぼ口とフィートではなくサウンドのソースを配置してください。

#### <a name="instructions"></a>手順

次の手順では、spatialized サウンドをホログラムにアタッチします。

* **階層**パネルで、展開**HologramCollection**選択**P0LY**します。
* **インスペクター**パネルの**AudioSource**、横に、円をクリックして**AudioClip**選択と**PolyHover**ポップアップから。
* 次に、円をクリックします**出力**選択**SoundEffects**ポップアップから。

Unity を使用するプロジェクト デシベル**AudioMixer**一連のサウンドの音量の調整を有効にするコンポーネント。 グループ化、サウンドをこの方法では、それぞれのサウンドの相対的なボリュームを維持しながら全体的なボリュームを調整できます。

* **AudioSource**、展開**3D サウンド設定**します。
* 設定**ドップラー レベル**に**0**します。

ピッチのモーション (ホログラムまたはユーザーのいずれか) に起因ゼロを無効に変更をドップラー レベルを設定します。 Doppler の典型的な例では、高速移動の車です。 車には、静止しているリスナーが近づく、エンジンのピッチよう増加します。 リスナーを渡すときに、距離とピッチが低くなります。

### <a name="part-2---directing-the-users-gaze"></a>パート 2 - ユーザーの視線の先を指示します。

#### <a name="key-concepts"></a>主要概念

* サウンドを使用して、重要なホログラムに注意を呼び出します。
* 耳、目を検索する場所を直接に役立ちます。
* 脳に学習した試して期待しています

学習した予測の 1 つの例では、鳥が人間の頭の上、通常です。 ユーザーは、鳥のサウンドを聞くこと、その最初の反応を検索するは。 Bird クラス、ユーザーの下に配置することは、サウンドを検索する必要があることを期待に基づくホログラムを検索できないの正しい方向に接続することにつながります。

#### <a name="instructions"></a>手順

次の手順は、ホログラムを検索するサウンドを使用できるように、背後にある非表示にする P0LY を有効にします。

* **階層**パネルで、**マネージャー**します。
* **インスペクター**パネルで、検索**音声入力ハンドラー**します。
* **音声入力ハンドラー**、展開**非表示に移動して**します。
* 変更**関数**に**PolyActions.GoHide**します。

![キーワード:移動の非表示にします。](images/gohide.png)

### <a name="part-3---gesture-feedback"></a>パート 3 - ジェスチャのフィードバック

#### <a name="key-concepts"></a>主要概念

* サウンドを使用して正のジェスチャの確認をユーザーに提供します。
* ユーザーの方法で get を過度に大きい音のサウンドを過されません。
* 最良のサウンドが微妙な作業は、エクスペリエンスを overshadow されません。

#### <a name="instructions"></a>手順

* **階層**パネルで、展開**HologramCollection**します。
* 展開**EnergyHub**選択**ベース**します。
* **インスペクター**パネルで、をクリックして**コンポーネントの追加**追加**ジェスチャ サウンド ハンドラー**します。
* **ジェスチャ サウンド ハンドラー**、横に円をクリックして**ナビゲーション開始クリップ**と**ナビゲーション更新クリップ**選択と**RotateClick**両方のポップアップから。
* Visual Studio で読み込むには、"GestureSoundHandler"をダブルクリックします。

サウンドのジェスチャ ハンドラーは、次のタスクを実行します。

* 作成し、構成、 **AudioSource**します。
* 場所、 **AudioSource** 、適切な場所に**GameObject**します。
* 再生、 **AudioClip**ジェスチャに関連付けられています。

#### <a name="build-and-deploy"></a>構築し、デプロイ

1. Unity では、次のように選択します。**ファイル > Build Settings**します。
2. **[Build]** をクリックします。
3. 1 回のクリック、**アプリ**フォルダー。
4. キーを押して**フォルダーを選択します**します。

ツールバーが「リリース」、"x86"または"x64"、および「リモート デバイス」ということを確認します。 それ以外の場合は、これは、Visual Studio のコーディングのインスタンス。 アプリ フォルダーからソリューションを開き直す必要があります。

* メッセージが表示されたら、プロジェクト ファイルを再読み込みします。
* 同様に、Visual Studio からデプロイします。

後、アプリケーションがデプロイされます。

* P0LY 内を移動するように、サウンドがどのように変化するかを確認します。
* たとえば *「非表示に移動」* P0LY 背後の場所に移動します。 サウンドを探します。
* エネルギーのハブの底を見つめます。 タップし、左または右に回転ホログラムとクリックのサウンドがジェスチャを確認する方法に注意してください。 をドラッグします。

注:Tag-along したのテキスト パネルがあります。 これは、このコースで使用できる利用可能な音声コマンドが含まれます。

## <a name="chapter-3---spatial-sound-and-spatial-mapping"></a>第 3 章 - 空間のサウンド、および空間マッピング

### <a name="objectives"></a>目標

* ホログラムとサウンドを使用して現実の世界との間の相互作用を確認します。
* 現実の世界を使用してサウンドが。

### <a name="part-1---physical-world-interaction"></a>パート 1 - 物理世界の相互作用

#### <a name="key-concepts"></a>主要概念

* 物理オブジェクトは、サーフェス、または別の発生すると一般に音を鳴らすオブジェクト。
* サウンドのエクスペリエンスで適切なコンテキストがあります。

たとえば、テーブル杯の設定のメタルの岩を削除するよりも静か音を鳴らす必要があります。

#### <a name="instructions"></a>手順

* **階層**パネルで、展開**HologramCollection**します。
* 展開**EnergyHub**、**ベース**します。
* **インスペクター**パネルで、をクリックして**コンポーネントの追加**追加**サウンドでの場所をタップし、アクション**します。
* **タップすると、サウンド、およびアクションで**:
  * 確認**Tap に親を配置**します。
  * 設定**配置サウンド**に**場所**します。
  * 設定**Pickup サウンド**に**Pickup**します。
  * 下部にある両方のすぐ下の + キーを押して**Pickup アクションで**と**配置アクションに**。 EnergyHub にシーンからドラッグして、 **None (オブジェクト)** フィールド。
    * [ **Pickup アクションで**、] をクリックして**いいえ関数** -> **EnergyHubBase** -> **ResetAnimation**します。
    * [**配置アクションに**、] をクリックして**いいえ関数** -> **EnergyHubBase** -> **OnSelect**します。

![タップすると、サウンド、およびアクションで](images/holograms220-taptoplace.png)

### <a name="part-2---sound-occlusion"></a>パート 2 - サウンド オクルー ジョン

#### <a name="key-concepts"></a>主要概念

* ライトのように、サウンドは、オクルー ジョンことができます。

典型的な例では、コンサート ホールです。 Hall、ドアの外部でリスナーの基盤とするとが閉じているミュージックのこもった感じです。 通常のボリュームを削減することです。 ドアが開かれたときに万全なサウンドの実際のボリュームで音がします。 高頻度のサウンドは低周波数を超える吸収一般にします。

#### <a name="instructions"></a>手順

* **階層**パネルで、展開**HologramCollection**選択**P0LY**します。
* **インスペクター**パネルで、をクリックして**コンポーネントの追加**追加**オーディオ エミッタ**します。

オーディオ エミッタ クラスには、次の機能が用意されています。

* ボリュームへの変更を復元、 **AudioSource**します。
* 実行、 **Physics.RaycastNonAlloc**の方向でのユーザーの位置から、 **GameObject**先、 **AudioEmitter**がアタッチされています。

RaycastNonAlloc メソッドは、返される結果の数と割り当てを制限するパフォーマンスの最適化として使用されます。

* 各**IAudioInfluencer**呼び出しが発生した、 **ApplyEffect**メソッド。
* 各前**IAudioInfluencer**されなく発生した呼び出しは、 **RemoveEffect**メソッド。

AudioEmitter を更新する人間の時間のスケールではなくあたりのフレームごとに注意してください。 これには、人間が四半期ごと、または 2 つ目の半分よりも頻繁に更新する必要があると効果を十分に高速移動はされません一般的には行われます。 ホログラム別に迅速に 1 つの場所からそのテレポート錯覚を中断できます。

* **階層**パネルで、展開**HologramCollection**します。
* 展開**EnergyHub**選択**BlobOutside**します。
* **インスペクター**パネルで、をクリックして**コンポーネントの追加**追加**オーディオ Occluder**します。
* **オーディオ Occluder**設定**カットオフ周波数**に**1500**します。

この設定は、1500 Hz に AudioSource 頻度を制限します。

* 設定**ボリューム パススルー**に**0.9**します。

この設定は、現在のレベルの 90% を AudioSource の量を削減します。

オーディオ Occluder に IAudioInfluencer を実装します。

* 使用して遮蔽効果を適用、 **AudioLowPassFilter**にアタッチする、 **AudioSource**マネージ購入、 **AudioEmitter**します。
* ボリュームの減衰を AudioSource に適用します。
* ニュートラル カットオフ周波数を設定して、フィルターを無効にすることにより、効果を無効にします。

ニュートラルとして使用される頻度が 22 kHz (22000 Hz) できます。 この頻度は、人間の耳、この加えないはっきりへの影響、音が聞こえる名目上の最大頻度の上になることにより選択されました。

* **階層**パネルで、 **SpatialMapping**します。
* **インスペクター**パネルで、をクリックして**コンポーネントの追加**追加**オーディオ Occluder**します。
* **オーディオ Occluder**設定**カットオフ周波数**に**750**します。

複数の occluders がユーザーの間のパスの場合、 **AudioEmitter**、最も低い頻度は、フィルターに適用されます。

* 設定**ボリューム パススルー**に**0.75**します。

複数 occluders がユーザーの間のパスの場合、 **AudioEmitter**、ボリューム パススルーが追加に適用します。

* **階層**パネルで、**マネージャー**します。
* **インスペクター**パネルで、展開**音声入力ハンドラー**します。
* **音声入力ハンドラー**、展開**移動料金**します。
* 変更**関数**に**PolyActions.GoCharge**します。

![キーワード:料金を参照してください。](images/gocharge.png)

* 展開**ここ**します。
* 変更**関数**に**PolyActions.ComeBack**します。

![キーワード:こちらへ来てください](images/comehere.png)

#### <a name="build-and-deploy"></a>構築し、デプロイ

* 同様に、Unity でプロジェクトをビルドし、Visual Studio でデプロイします。

後、アプリケーションがデプロイされます。

* たとえば *「移動の料金」* が P0LY エネルギー ハブを入力します。

サウンドの変更に注意してください。 こもった感じ、少し静かのサウンドにする必要があります。 壁やエネルギー ハブとの間には、他のオブジェクトに自分で配置することは、現実の世界でオクルー ジョンによりサウンドのさらに消音がわかります。

* たとえば *「ここでは」* P0LY エネルギー ハブのままにし、自身をする前に配置します。

P0LY エネルギー ハブを終了すると、サウンドの重なりが削除されたことに注意してください。 聴覚オクルー ジョンで引き続き場合 P0LY は現実の世界でオクルー ジョン可能性があります。 P0LY にクリア視野を確保する移動してみてください。

### <a name="part-3---room-models"></a>パート 3 - ルーム モデル

#### <a name="key-concepts"></a>主要概念

* 領域のサイズは、サウンドのローカライズに影響を与えるサブリミナル キューを提供します。
* ルームのモデルが 1 に設定されて、**AudioSource**します。
* [For Unity MixedRealityToolkit](https://github.com/Microsoft/MixedRealityToolkit-Unity)ルーム モデルを設定するためのコードを提供します。
* 複合現実エクスペリエンスでは、実際の領域に最適なルーム モデルを選択します。

仮想現実のシナリオを作成する場合は、仮想環境に最適な部屋のモデルを選択します。

## <a name="chapter-4---sound-design"></a>第 4 章 - 設計

### <a name="objectives"></a>目標

* 効果的な設計に関する考慮事項を理解します。
* 混合の手法とガイドラインについて説明します。

### <a name="part-1---sound-and-experience-design"></a>パート 1 - のサウンドとエクスペリエンスのデザイン

このセクションでは、キーのサウンドとエクスペリエンスの設計に関する考慮事項とガイドラインについて説明します。

#### <a name="normalize-all-sounds"></a>すべてのサウンドを正規化します。

これは、サウンド、時間がかかる可能性があるごとのボリューム レベルを調整する特別な大文字と小文字のコードが不要でと、サウンド ファイルを簡単に更新する機能を制限します。

#### <a name="design-for-an-untethered-experience"></a>無制限のエクスペリエンスの設計

HoloLens とは、完全包含、無制限の holographic コンピューターです。 ユーザーの移動中にお客様のエクスペリエンスを使用しています。 歩き回ることによって、オーディオの組み合わせをテストすることを確認します。

#### <a name="emit-sound-from-logical-locations-on-your-holograms"></a>サウンド、ホログラムで論理的な場所からの出力します。

現実の世界で犬がその末尾からバークしないと、人間の音声が自分のフィートから発生しません。 サウンドが、ホログラムの予期しない部分から出力を必要があります。

小さなホログラム、サウンドのジオメトリの中心から生成するは適切です。

#### <a name="familiar-sounds-are-most-localizable"></a>使い慣れたサウンドはローカライズ可能な最も

人間の声や音楽は、非常に簡単にローカライズされます。 場合は、名前、呼び出しは、非常に正確に判断する方法と、音声が付属してどのような方向から離れたことができます。 Short、未知のサウンドはローカライズするが難しいです。

#### <a name="be-cognizant-of-user-expectations"></a>ユーザーの期待の認識

有効期間のエクスペリエンスは、サウンドの場所を特定する上で役割を果たします。 これは、人間の声が特に簡単にローカライズする 1 つの理由です。 注意すべきユーザーの学習した予測のサウンドを配置するときに重要です。

たとえば、bird 曲がだれかと、一般を調べる、鳥は、視野 (飛行またはツリー) 上に配置する傾向があります。 これは、サウンドの正しい方向で有効にするが、誤ったの垂直方向に検索しホログラムを検索することがない場合は、混乱や不満になるユーザー珍しくありません。

#### <a name="avoid-hidden-emitters"></a>非表示の発信機を避ける

現実の世界で、音が聞こえました場合一般にオブジェクトを識別できます、サウンドを生成します。 これには、お客様のエクスペリエンスにも格納する必要があります。 ユーザーが、音が聞こえるように、サウンドの発生元からの非常に混乱を招くでき、オブジェクトを表示することができません。

このガイドラインをいくつかの例外があります。 たとえば、フィールドの crickets などの環境音は表示されません必要があります。 ライフ エクスペリエンスにより、ソースを確認する必要はありませんこれらのサウンドの知識。

### <a name="part-2---sound-mixing"></a>パート 2 - サウンドのミキシング

#### <a name="target-your-mix-for-70-volume-on-the-hololens"></a>対象に、HoloLens の 70% のボリュームのバランス

複合現実エクスペリエンスでは、現実の世界において発生するホログラムを許可します。 現実の世界音が聞こえるにも許可します。 70% のボリュームのターゲットにより、ユーザー エクスペリエンスの音を鳴らしての世界をそれらにお待ちしております。

#### <a name="hololens-at-100-volume-should-drown-out-external-sounds"></a>100% のボリュームでの HoloLens の外部サウンドを一覧から必要があります。

100% のボリューム レベルでは、仮想現実エクスペリエンスに似ています。 視覚的に、ユーザーはさまざまな環境に送信されます。 同じが当てはまる音声で返すことです。

#### <a name="use-the-unity-audiomixer-to-adjust-categories-of-sounds"></a>Unity AudioMixer を使用してサウンドのカテゴリを調整するには

バランスを設計するときに多くの場合をお勧めサウンドのカテゴリを作成し、そのボリュームの単位としてを増減する機能があります。 全体的なミックスに素早く簡単に変更しながら、それぞれのサウンドの相対的なレベルを保持します。 一般的なカテゴリがあります。サウンド効果、アンビエンス、ボイス オーバーおよびバック グラウンド ミュージックします。

#### <a name="mix-sounds-based-on-the-users-gaze"></a>ユーザーの視線の先に基づくサウンドをミキシングします。

多くの場合、おくと便利です、サウンドのミックスを変更する場所に基づいて作業環境で、ユーザーが (またはない) を検索します。 この手法の 1 つの一般的な用途では、前に、情報に注目するユーザーを容易にできるように Holographic フレーム外にあるホログラムのボリューム レベルを下げます。 別の使用では、重要なイベントに、ユーザーの注目を集めるサウンドの音量を上げるです。

#### <a name="building-your-mix"></a>バランスの構築

バランスを構築する場合は、エクスペリエンスのバック グラウンド オーディオから開始し、重要度に基づいてレイヤーを追加することをお勧めします。 多くの場合、この結果、各層は、以前よりも大きくします。

反転じょうごグラフ、少なくとも重要度としてバランスを考えた (および通常静かサウンド) 次の図のようなバランスを構造体を下部で、推奨は。

![サウンドのミックス構造体](images/soundlevels.png)

ボイス オーバーは、興味深いシナリオです。 ベースのエクスペリエンスを作成するには、(ローカライズされていない) のステレオ サウンドを持っているか、ボイス オーバーの spatialize をする可能性があります。 2 つの Microsoft エクスペリエンスを公開する各シナリオの優れた例について説明します。

[HoloTour](http://www.microsoft.com/store/p/holotour/9nblggh5pj87)を介してステレオの音声を使用します。 ナレーターは、表示されている場所と記述して、サウンドが一貫性のある変わることはありません、ユーザーの位置で。 これにより、環境の spatialized サウンドからしないシーンを記述するナレーターができます。

[フラグメント](https://www.microsoft.com/store/p/fragments/9nblggh5ggm8)経由で、探偵の形式で spatialized 音声を使用します。 探偵の音声は、ルームに実際の人間があった場合に重要な手掛かりをユーザーの注意を届けるために使用されます。 これにより、ミステリーを解決するのにエクスペリエンス immersion 感はさらに大きくなります。

### <a name="part-3--performance"></a>パート 3 - パフォーマンス

#### <a name="cpu-usage"></a>CPU 使用率

空間サウンドを使用する場合、10 ~ 12 の発信機は、CPU の約 12% を消費します。

#### <a name="stream-long-audio-files"></a>Stream の時間の長いオーディオ ファイル

オーディオ データを共通のサンプル レート (44.1 と 48 kHz) では特に、大規模なことができます。 一般的な規則は、アプリケーションのメモリ使用率を低減 5 ~ 10 秒より長いオーディオ ファイルをストリーミングする必要があります。

Unity では、ファイルのインポートの設定では、ストリーミングに対応するオーディオ ファイルをマークできます。

![オーディオの読み込み設定](images/audioimportsettings.png)

## <a name="chapter-5---special-effects"></a>第 5 章「特殊効果

### <a name="objectives"></a>目標

* "マジック Windows"には、深さを追加します。
* 仮想世界にユーザーを表示します。

### <a name="magic-windows"></a>マジック Windows

#### <a name="key-concepts"></a>主要概念

* ビューを非表示の世界を作成することは、視覚的に説得力のあるです。
* ホログラムまたはユーザーが非表示の世界に近い場合は、オーディオ効果を追加することで、リアリティを強化します。

#### <a name="instructions"></a>手順

* **階層**パネルで、展開**HologramCollection**選択**黄泉**します。
* 展開**黄泉**選択**VoiceSource**します。
* **インスペクター**パネルで、をクリックして**コンポーネントの追加**追加**ユーザー音声エフェクト**。

**AudioSource**にコンポーネントを追加する**VoiceSource**します。

* **AudioSource**設定**出力**に**UserVoice (Mixer)** します。
* チェック、 **Spatialize**チェック ボックスをオンします。
* ドラッグ、**空間 Blend**スライダーに至る**3D**、または入力**1**編集ボックス。
* 展開**3D サウンド設定**します。
* 設定**ドップラー レベル**に**0**します。
* **ユーザー音声エフェクト**設定**親オブジェクト**を**黄泉**シーンから。
* 設定**最大距離**に**1**します。

設定**最大距離**指示**ユーザー音声エフェクト**閉じる方法があります親オブジェクトに効果が有効にする前にします。

* **ユーザー音声エフェクト**、展開**コーラス パラメーター**します。
* 設定**深さ**に**0.1**します。
* 設定**ボリュームを 1 つをタップします**、 **2 のボリュームをタップ**と**3 つのボリュームをタップします**に**0.8**します。
* 設定**元音量**に**0.5**します。

以前の設定は、Unity のパラメーターを構成する**AudioChorusFilter**ユーザーの音声に豊富な機能を追加するために使用します。

* **ユーザー音声エフェクト**、展開**エコー パラメーター**します。
* 設定**遅延**に**300**
* 設定**比率を Decay**に**0.2**します。
* 設定**元音量**に**0**します。

以前の設定は、Unity のパラメーターを構成する**AudioEchoFilter**をエコーするユーザーの音声が発生するために使用します。

ユーザー音声エフェクト スクリプトは担います。

* ユーザーの間の距離を測定して、 **GameObject**スクリプトがアタッチされます。
* ユーザーが直面しているかどうかを決定する、 **GameObject**します。

ユーザーが有効に有効にするために、距離に関係なく、GameObject 直面する必要があります。

* 適用して、構成、 **AudioChorusFilter**と**AudioEchoFilter**を**AudioSource**します。
* フィルターを無効にして、効果を無効にします。

ユーザー ボイスの効果は、Mic Stream セレクター コンポーネントを使用してから、 [for Unity MixedRealityToolkit](https://github.com/Microsoft/MixedRealityToolkit-Unity)を高品質の音声ストリームを選択し、Unity のオーディオ システムにルーティングします。

* **階層**パネルで、**マネージャー**します。
* **インスペクター**パネルで、展開**音声入力ハンドラー**します。
* **音声入力ハンドラー**、展開**表示黄泉**します。
* 変更**関数**に**UnderworldBase.OnEnable**します。

![キーワード:黄泉を表示します。](images/showunderworld.png)

* 展開**黄泉を非表示に**します。
* 変更**関数**に**UnderworldBase.OnDisable**します。

![キーワード:黄泉を非表示にします。](images/hideunderworld.png)

#### <a name="build-and-deploy"></a>構築し、デプロイ

* 同様に、Unity でプロジェクトをビルドし、Visual Studio でデプロイします。

後、アプリケーションがデプロイされます。

* 顔の画面 (壁、floor、テーブル) と say *「を表示する黄泉」* します。

黄泉が表示され、他のすべてのホログラムは表示されません。 黄泉が表示されない場合は、実際の画面が発生したことを確認します。

* 1 メートル以内黄泉ホログラムのアプローチし、会話の開始。

自分の声に適用されるオーディオ効果はようになりました。

* 黄泉から有効にして、効果が適用されていない方法に注意してください。
* たとえば *「非表示にする黄泉」* 黄泉を非表示にします。

黄泉が非表示にして、以前に非表示のホログラムが再表示されます。

## <a name="the-end"></a>最後です

これで終了です。 完了したので**MR 空間 220。空間サウンド**します。

世界をリッスンしてサウンドをお客様のエクスペリエンスを活用しましょう!
